(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4234],{94234:function(e,o,t){"use strict";t.d(o,{h:function(){return eb}});var n=t(47842),i=t(70865),s=t(96670),r=t(66383),a=t(50930),l=t(52322),d=t(2784),c=t(66524),u=t(97411),p=t(47485),m=t(72873),h=t(80803),v=t(79593),f=t(41435),x=t(72677),_=t(42729),g=t(57931),C=t(31909),y=t(98723),N=t(50603),U=t(26442),j=t(71390),w=t(83679),I=t.n(w);function b(e){var o=e.posts,t=e.isOpen,n=e.onClose,i=e.toPostWithIndex;return(0,l.jsx)(N.Modal,{width:600,isOpen:t,onDismiss:n,hasFooterTopShadow:!1,headerTitle:"تماشای دوباره!",footer:(0,l.jsx)(g.z,{to:(0,U.ws)(),className:"w-full",children:"بازگشت به دیجی کالا"}),children:(0,l.jsx)(u.l,{items:o.map(function(e,o){var t,s,r,a,d;return(0,l.jsxs)("div",{className:"relative shrink-0 rounded-large overflow-hidden ml-2",onClick:function(){i(o),n()},children:[(0,l.jsx)(C.E,{objectFit:"cover",height:280,width:150,image:null===(t=e.postMedia)||void 0===t?void 0:null===(s=t[0])||void 0===s?void 0:s.postMediaSmallCover}),(0,l.jsxs)(y.r,{to:(0,U.kK)(null===(r=e.postAuthor)||void 0===r?void 0:r.authorUsername),className:(0,x.d)(I().VideoEndedModal__item,"flex flex-col gap-2 absolute bottom-0 left-0 right-0 min-h-25 px-2 pb-3 pt-2"),children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(C.E,{className:"shrink-0",imageClassName:"rounded-circle",image:null===(a=e.postAuthor)||void 0===a?void 0:a.authorPhoto,src:j.C,height:32,width:32}),(0,l.jsx)("p",{className:"text-body-1 text-white",children:null===(d=e.postAuthor)||void 0===d?void 0:d.authorUsername})]}),(0,l.jsx)("p",{className:"text-body2-strong text-white ellipsis-2",children:e.postTitle})]})]},e.postId)})})})}var k=t(37149),M=t.n(k),T=t(64177),P=t(15585),O=t(24034),S=t(31192),E=t(62075),Z=t(842),A=t(98634),R=t(48442),z=t(48607),L=t(98780),D=t(51383),V=t(96879),F=t(84714),B=t(88946),H={isLiked:{iconColor:"primary",iconName:"favoriteOn"},isDisliked:{iconColor:"white",iconName:"favoriteOff"}};function J(e){var o=e.className,t=e.post,n=e.postReaction,r=e.isOpenCommentModal,a=e.onOpenCommentModal,d=e.onCloseCommentModal,c=e.onSuccessLike,u=t||{},p=u.postCommentsCount,m=u.postId,h=u.postAuthor,v=(0,F.g)((0,s.Z)((0,i.Z)({},t),{postUserReaction:{isLiked:null==n?void 0:n.isPostLiked}}),c),f=v.handleLikePost,_=v.isLiked,g=v.likesCount,C=_?H.isLiked:H.isDisliked;return(0,l.jsxs)("div",{className:(0,x.d)(o,"flex gap-4 flex-col"),children:[(0,l.jsx)(D.P,{children:(0,l.jsxs)("span",{className:"cursor-pointer text-white flex flex-col items-center text-body-strong",onClick:function(){f(),(0,E.gj)({postId:m,postAuthorId:null==h?void 0:h.authorId})},children:[(0,l.jsx)(L.J,{color:C.iconColor,size:24,icon:C.iconName}),(0,l.jsx)(V.I,{value:g})]})}),(0,l.jsxs)("span",{className:"cursor-pointer text-white flex flex-col items-center text-body-strong",children:[(0,l.jsx)(L.J,{color:"white",size:24,icon:"comment",onClick:a}),(0,l.jsx)(V.I,{value:p})]}),(0,l.jsx)(B.r,{postId:m,post:t,isOpen:r,onClose:d})]})}var q=t(5046);function X(e){var o=e.className,t=e.post;return(0,l.jsx)("div",{className:(0,x.d)(o,"relative h-full"),children:(0,l.jsx)(q.l,{shouldDisplayShowMore:!1,titleColor:"text-neutral-100",captionColor:"text-neutral-100",post:t})})}var W=t(11559),Y=t(92428),G=t(36155),Q=t(14052),K=t(52483),$=t(45227),ee=t(1324),eo=(0,ee.q)({url:"magnet/affiliate/",type:$.XN.POST,inputTransformer:function(e){return{post_id:e.postId,product_id:e.productId}}});function et(e){var o,t,n=e.className,a=e.products,u=e.postId,p=e.postAuthorId,m=(0,c.R)({modalId:_.f.VIDEO_BABY_PDP}),h=m.isOpen,v=m.onClose,g=m.onOpen,C=(0,r.Z)((0,d.useState)({productId:null,product:null}),2),y=C[0],N=C[1],U=(0,W.E)({apiMethod:G.z,onSuccess:function(e){var o=e.product;N(function(e){return(0,s.Z)((0,i.Z)({},e),{product:o})}),g()}}),j=U.request,w=U.pending,I=(0,W.E)({apiMethod:eo}).request,b=(0,d.useRef)(null),k=!1;return(0,f.x)(a)?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:(0,x.d)(n,"flex gap-2 overflow-x-auto overflow-y-auto hide-scrollbar bg-neutral-900 p-2"),onMouseDown:function(e){k=!0,o=e.pageX-b.current.offsetLeft,t=b.current.scrollLeft},onMouseLeave:function(e){k=!1},onMouseUp:function(e){k=!1},onMouseMove:function(e){if(k){e.preventDefault(),e.stopPropagation();var n=e.pageX-b.current.offsetLeft;b.current.scrollLeft=t-(n-o)*3}},ref:b,children:a.map(function(e,o){var t=e.productId,n=e.productImage,r=e.productTitle;return(0,l.jsx)(Q.z,{loading:w&&t===y.productId,className:"ml-2 lg:ml-0 select-none",onClick:function(){N(function(e){return(0,s.Z)((0,i.Z)({},e),{productId:t})}),j({productId:t}),I({productId:t,postId:u}),(0,E.ah)({productId:t,postId:u,postAuthorId:p,placeIndex:o})},productImage:n,productTitle:r},t)})}),y.product&&(0,l.jsx)(K.J,{onAddToCart:function(e){(0,E.q_)({productId:e,postId:u,postAuthorId:p})},onShowMoreClicked:function(e){(0,E.dE)({productId:e,postId:u,postAuthorId:p})},isOpenModal:h,closeModal:function(){N({product:null,productId:null}),v()},product:y.product,type:Y.J.MAGNET_LIVE})]})}var en=t(72610),ei=t(7208);function es(e){var o=e.className,t=e.postMedia,n=e.videoTimer,a=e.setVideoTimer,c=e.playerRef,u=e.isPlaying,p=e.mediaUrl,m=(0,r.Z)((0,d.useState)(!1),2),h=m[0],v=m[1],f=(t||{}).postMediaUrl;return(0,l.jsxs)("div",{className:(0,x.d)(o,"relative"),onClick:function(e){e.stopPropagation(),v(function(e){return!e})},children:[(0,l.jsx)(en.g,{className:"absolute inset-0 mx-auto my-auto z-[-1]"}),(0,l.jsx)(ei.Y,{url:f||p,height:"100%",width:"100%",ref:c,playing:u,muted:h,loop:!0,onDuration:function(e){a((0,s.Z)((0,i.Z)({},n),{duration:Math.floor(e)}))},onProgress:function(e){var o=e.playedSeconds,t=e.played;u&&a((0,s.Z)((0,i.Z)({},n),{playedSeconds:o,playedPercent:Math.floor(100*t)})),t>=.997&&setTimeout(function(){t>=.997&&c.current.seekTo(0,"seconds")},1e3)}}),h&&(0,l.jsx)(L.J,{color:"white",icon:"speakerMuted",className:"absolute right-0 left-0 top-0 bottom-0 m-auto w-max h-max",size:75})]})}var er=t(34479),ea=t.n(er);function el(e){var o=e.className;return(0,l.jsx)("div",{className:(0,x.d)(o,ea().VideoModalContentFooterOverlay)})}var ed=t(57194),ec=t.n(ed);function eu(e){var o=e.className;return(0,l.jsx)("div",{className:(0,x.d)(o,ec().VideoModalContentHeaderOverlay)})}function ep(e){var o,t,n,a=e.className,u=e.post,p=e.postReaction,m=e.onCloseVideoModal,h=e.onVideoEnded,v=e.toPreviousPost,f=e.toNextPost,g=e.updateLikeReaction,C=e.updateAuthorFollowedReaction,y=(0,c.R)({modalId:_.f.VIDEO_COMMENTS}),N=y.isOpen,U=y.onOpen,j=y.onClose,w=(0,d.useRef)(null),I=(0,r.Z)((0,d.useState)({duration:0,playedSeconds:0,playedPercent:0}),2),b=I[0],k=I[1],M=(0,d.useRef)(!1);(0,d.useEffect)(function(){if(b.playedPercent>95)M.current&&(M.current=!1);else if(b.playedSeconds>3&&!M.current){var e;(0,E.Qt)({postId:null==u?void 0:u.postId,postAuthorId:null===(e=u.postAuthor)||void 0===e?void 0:e.authorId}),M.current=!0}},[b]),(0,d.useEffect)(function(){M.current=!1},[u]);var T=(0,z.Y)({onSwipedRight:f,onSwipedLeft:v}),P=T.onTouchStart,O=T.onTouchMove,S=T.onTouchEnd,L=(0,r.Z)((0,d.useState)(!0),2),D=L[0],V=L[1],F=(0,d.useCallback)((0,A.Ds)(function(e){var o,t=e.value;null==w||null===(o=w.current)||void 0===o||o.seekTo(t[0]/100,"fraction")},300),[]);return(0,l.jsxs)("div",{className:(0,x.d)(a,"flex flex-col"),children:[(0,l.jsxs)("div",{className:"w-full h-30 relative flex-1",onTouchStart:P,onTouchMove:O,onTouchEnd:S,children:[(0,l.jsx)(eu,{className:"absolute top-0 left-0 right-0 h-20 z-1"}),(0,l.jsx)(R.A,{className:"absolute top-0 left-0 right-0 z-2 px-5 pt-4",user:(0,s.Z)((0,i.Z)({},{username:(o=(null==u?void 0:u.postAuthor)||{}).authorUsername,photo:o.authorPhoto,isFollowing:o.authorIsFollowing}),{isFollowing:null==p?void 0:p.isAuthorFollowed}),onSuccessFollowed:C,backButtonOnClick:m}),(0,l.jsx)(es,{className:"w-full h-full",postMedia:null==u?void 0:null===(t=u.postMedia)||void 0===t?void 0:t[0],videoTimer:b,setVideoTimer:k,playerRef:w,isPlaying:D,onEnded:h}),(0,l.jsxs)("div",{className:"flex flex-col px-5 absolute bottom-0 right-0 left-0 z-2",children:[(0,l.jsx)(el,{className:"absolute inset-0 z-0"}),(0,l.jsxs)("div",{className:"z-1",children:[(0,l.jsxs)("div",{className:"flex items-end justify-between lg:gap-2 gap-4",children:[(0,l.jsx)(X,{post:u}),(0,l.jsx)(J,{post:u,postReaction:p,isOpenCommentModal:N,onOpenCommentModal:U,onCloseCommentModal:j,onSuccessLike:g})]}),(0,l.jsx)(Z.Q,{onChange:F,videoTimer:b,onTouchMove:function(){D&&V(!1)},onTouchEnd:function(){V(!0)}})]})]})]}),(0,l.jsx)(et,{className:"shrink-0 grow-0",postId:null==u?void 0:u.postId,postAuthorId:null==u?void 0:null===(n=u.postAuthor)||void 0===n?void 0:n.authorId,products:null==u?void 0:u.postProducts})]})}var em={overlay:{zIndex:4,backgroundColor:"rgba(0, 0, 0, 0.8)"}};function eh(e){var o=e.post,t=e.postReaction,n=e.isOpen,i=e.onClose,s=e.toNextPost,r=e.toPreviousPost,a=e.hasNextPost,c=e.hasPreviousPost,u=e.onVideoEnded,p=e.updateLikeReaction,m=e.updateAuthorFollowedReaction,h=o||{},v=h.postId,f=h.postAuthor,_=(0,d.useRef)(window.innerHeight);(0,P.N)({condition:n});var g=(0,T.C)().isDesktop;(0,d.useEffect)(function(){n&&(0,E._H)({postId:v,postAuthorId:null==f?void 0:f.authorId})},[n]);var C=function(){(0,E.Yk)({postId:v,postAuthorId:null==f?void 0:f.authorId}),i()};return(0,l.jsxs)(M(),{isOpen:n,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,onRequestClose:C,className:(0,x.d)("relative w-fit lg:px-20 mx-auto flex justify-center items-center flex-row"),style:em,children:[g&&a&&(0,l.jsx)(S.E,{className:"my-auto",onClick:s,direction:"left"}),(0,l.jsx)("div",{className:"grow-0 lg:w-90 w-screen",style:g?{height:_.current>760?"720px":"".concat(.95*_.current,"px")}:{height:"".concat(_.current,"px")},children:(0,l.jsx)(ep,{onCloseVideoModal:C,onVideoEnded:u,post:o,postReaction:t,className:"w-full h-full",toNextPost:s,toPreviousPost:r,updateLikeReaction:p,updateAuthorFollowedReaction:m})}),g&&c&&(0,l.jsx)(S.E,{className:"my-auto",onClick:r,direction:"right"}),(0,l.jsx)(O.A,{})]})}var ev=t(84941),ef=t(25143),ex=(0,ee.q)({url:"/magnet/home-page/",transformer:function(e){var o,t,n=e.data||{},i=n.lives,s=n.posts;return{lives:(null==i?void 0:null===(o=i.map)||void 0===o?void 0:o.call(i,function(e){return(0,ev.A)({data:e})}))||[],posts:(null==s?void 0:null===(t=s.map)||void 0===t?void 0:t.call(s,function(e){return(0,ef.E)({data:e})}))||[]}}}),e_=(0,ee.q)({url:"/magnet/home-page/reactions/",transformer:function(e){var o=e.data;return{reactions:Object.keys(o||{}).reduce(function(e,t){var r=o[t]||{},a=r.is_author_followed,l=r.is_post_liked;return(0,s.Z)((0,i.Z)({},e),(0,n.Z)({},t,{isAuthorFollowed:a,isPostLiked:l}))},{})}}}),eg=t(16330),eC=t(32614),ey=t(27314),eN=t(52216),eU={NOT_STARTED:"not_started",STARTED:"started"},ej=t(86981),ew=t.n(ej);function eI(e){var o,t,i=e.isLiveItem,s=e.live,r=e.video,a=e.videoOnClick,c=e.className,u=e.itemIndex,p=e.isInPromotion,m=(0,ey.e)().redirect,h=s||{},v=h.dkLiveStatus,f=h.dkLiveTitle,_=h.dkLiveSlug,g=h.dkLiveCover,y=h.dkLiveUser,N=h.dkLiveId,j=r||{},w=j.postTitle,I=j.postAuthor,b=j.postId,k=j.postCircleCover,M=v===eU.STARTED,T=i?f:w,P=(0,d.useRef)(null),O=(0,eC.o)({textRef:P,updateDependencies:[T]}).lineCount>2,S="flex items-center justify-center";return(0,l.jsxs)("div",{onClick:function(){i?((0,E.$G)({liveId:N,liveOwnerId:null==y?void 0:y.id,placeIndex:u}),m({url:(0,U.$A)(_)})):((0,E.OR)({postId:b,postAuthorId:null==I?void 0:I.authorId,placeIndex:u}),a())},className:(0,x.d)(c,"w-[84px] shrink-0 cursor-pointer"),children:[(0,l.jsxs)("div",{className:(0,x.d)(ew().container,"rounded-circle shrink-0 w-full aspect-square relative",S,(0,n.Z)({},ew().container__nowroz,p)),children:[(0,l.jsx)("div",{className:(0,x.d)("rounded-circle overflow-hidden bg-white aspect-square",ew().innerContainer,S),children:(0,l.jsx)(C.E,{rounded:99999,objectFit:"cover",image:i?g:k,className:(0,x.d)("rounded-circle overflow-hidden",S,ew().image,(o={},(0,n.Z)(o,ew().image__nowroz,p),(0,n.Z)(o,ew()["image--live"],i&&M),o))})}),i?(0,l.jsx)("div",{className:(0,x.d)(ew().timeBadge,(t={},(0,n.Z)(t,ew().timeBadge__nowroz,p),(0,n.Z)(t,ew().timeBadge__started,M),(0,n.Z)(t,ew().timeBadge__started__nowroz,p&&M),t),"absolute left-0 right-0 bottom-0 border-solid border-2 border-white w-max mx-auto px-1.5 rounded-md text-caption-strong"),children:(0,eN.U)(s.dkLiveBadgeText)}):null]}),(0,l.jsx)(eg.u,{label:T,position:"right-end",hasTooltip:O,children:(0,l.jsx)("div",{ref:P,className:(0,x.d)("mt-2 text-caption text-center text-neutral-800",{"ellipsis-2":O}),children:T})})]})}function eb(e){var o,t,g=e.isInPromotion,C=(0,m.V)({apiMethod:ex}),y=C.data,N=C.pending,U=y||{},j=U.lives,w=U.posts,I=(0,h.d)(),k=I.isOpen,M=I.onOpen,T=I.onClose,P=(0,c.R)({modalId:_.f.VIDEO}),O=P.isOpen,S=P.onOpen,E=P.onClose,Z=(0,r.Z)((0,d.useState)(-1),2),A=Z[0],R=Z[1],z=O&&-1!==A,L=null==w?void 0:w[A],D=(L||{}).postId,V=((0,m.V)({apiMethod:e_,disabled:!z}).data||{}).reactions,F=(0,r.Z)((0,d.useState)(V),2),B=F[0],H=F[1];(0,d.useEffect)(function(){H(V)},[V]);var J=z&&B&&B[D],q=0!==A,X=!(0,f.x)(w)&&A!==w.length-1;if(N)return(0,l.jsx)(p.P,{});if((0,f.x)(j)&&(0,f.x)(w)||v.s)return null;var W=null==j?void 0:null===(o=j.map)||void 0===o?void 0:o.call(j,function(e,o){return(0,l.jsx)(eI,{className:(0,x.d)("ml-3 lg:ml-0",{"mr-2":0===o}),isLiveItem:!0,live:e,itemIndex:o,isInPromotion:g},e.dkLiveId)}),Y=null==w?void 0:null===(t=w.map)||void 0===t?void 0:t.call(w,function(e,o){return(0,l.jsx)(eI,{className:(0,x.d)("ml-3 lg:ml-0",{"mr-2":0===o&&(0,f.x)(j)}),video:e,videoOnClick:function(){R(o),S()},itemIndex:o,isInPromotion:g},e.postId)});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.l,{sliderProps:{freeMode:!1,disableFreeModeOnDesktop:!0},className:"pt-4",spaceBetween:24,items:(0,a.Z)(W).concat((0,a.Z)(Y))}),(0,l.jsx)(b,{posts:w,isOpen:k,onClose:T,toPostWithIndex:function(e){return R(e)}}),(0,l.jsx)(eh,{toNextPost:function(){return R(function(e){return X?e+1:e})},toPreviousPost:function(){return R(function(e){return q?e-1:e})},hasNextPost:X,hasPreviousPost:q,post:L,postReaction:J,isOpen:z,onClose:function(){R(-1),E()},onVideoEnded:function(){X||M()},updateLikeReaction:function(e){J&&H((0,s.Z)((0,i.Z)({},B),(0,n.Z)({},D,(0,s.Z)((0,i.Z)({},J),{isPostLiked:e}))))},updateAuthorFollowedReaction:function(e){J&&H((0,s.Z)((0,i.Z)({},B),(0,n.Z)({},D,(0,s.Z)((0,i.Z)({},J),{isAuthorFollowed:e}))))}})]})}},31192:function(e,o,t){"use strict";t.d(o,{E:function(){return l}});var n=t(52322),i=t(98780),s=t(72677),r=t(73186),a=t.n(r);function l(e){var o=e.className,t=e.direction,r=e.onClick,l="chevron".concat(t[0].toUpperCase()).concat(t.slice(1));return(0,n.jsx)("div",{onClick:r,className:(0,s.d)(o,"p-2 rounded-circle border-complete absolute bottom-0 top-0 m-auto h-max bg-neutral-000 cursor-pointer",a()[t]),children:(0,n.jsx)(i.J,{icon:l,color:"low-emphasis",size:24})})}},48607:function(e,o,t){"use strict";t.d(o,{Y:function(){return s}});var n=t(66383),i=t(2784);function s(e){var o=e.onSwipedRight,t=e.onSwipedLeft,s=e.onSwipedUp,r=e.onSwipedDown,a=e.minSwipeDistance,l=void 0===a?75:a,d=(0,n.Z)((0,i.useState)(0),2),c=d[0],u=d[1],p=(0,n.Z)((0,i.useState)(0),2),m=p[0],h=p[1],v=(0,n.Z)((0,i.useState)(0),2),f=v[0],x=v[1],_=(0,n.Z)((0,i.useState)(0),2),g=_[0],C=_[1];return{onTouchStart:function(e){h(0),C(0),u(e.targetTouches[0].clientX),x(e.targetTouches[0].clientY)},onTouchMove:function(e){h(e.targetTouches[0].clientX),C(e.targetTouches[0].clientY)},onTouchEnd:function(){if(c&&m&&f&&g){var e=c-m,n=f-g;e>l&&t&&t(),e<-l&&o&&o(),n>l&&s&&s(),n<-l&&r&&r()}}}}},88946:function(e,o,t){"use strict";t.d(o,{r:function(){return U}});var n=t(66383),i=t(50930),s=t(52322),r=t(2784),a=t(23248),l=t(67387),d=t(31909),c=t(62075),u=t(51383),p=t(98780),m=t(11559),h=t(87049),v=t(6013),f=t(72677),x=t(71390),_=t(45227),g=t(1324),C=t(39368),y=(0,g.q)({url:function(e){var o=e.postId;return"/magnet/posts/".concat(o,"/comments/create/")},transformer:function(e){var o=(e.data||{}).comment;return{comment:(0,C.T)({data:o})}},inputTransformer:function(e){return{comment:e.commentBody}},type:_.XN.POST});function N(e){var o=e.className,t=e.post,i=e.onCommentSent,a=e.inputDisabled,l=e.inputOnClick,_=t||{},g=_.postId,C=_.postAuthor,N=(0,n.Z)((0,r.useState)(""),2),U=N[0],j=N[1],w=(0,h.v)(v.p.socialData).socialProfile,I=(0,m.E)({apiMethod:y,onSuccess:function(e){return i(e.comment)}}),b=I.request,k=I.pending,M=""===U.trim(),T=function(e){e.preventDefault(),k||M||(b({postId:g,commentBody:U}),j(""),(0,c.f3)({postId:g,postAuthorId:null==C?void 0:C.authorId}))};return(0,s.jsxs)("form",{onSubmit:T,className:(0,f.d)(o,"p-3 flex items-center gap-3 bg-neutral-100 border-complete rounded-large"),onClick:l,children:[(0,s.jsx)(d.E,{className:"shrink-0",imageClassName:"rounded-circle",image:null==w?void 0:w.socialProfileImage,src:x.C,height:24,width:24}),(0,s.jsx)("input",{className:"w-full border-none text-neutral-600 placeholder-neutral-300",placeholder:"دیدگاه خود را بنویسید ...",onChange:function(e){return j(e.target.value)},value:U,disabled:void 0!==a&&a}),!M&&(0,s.jsx)(u.P,{children:(0,s.jsx)(p.J,{icon:"send",color:k?"low-emphasis":"secondary",size:18,onClick:T})})]})}function U(e){var o=e.post,t=e.isOpen,u=e.onClose,p=e.commentItemClassName,m=e.commentItemContainerClassName,h=e.inputDisabled,v=e.inputOnClick,f=e.modalClassName,x=o||{},_=x.postId,g=x.postAuthor,C=(0,n.Z)((0,r.useState)([]),2),y=C[0],U=C[1];return(0,r.useEffect)(function(){return U([])},[t]),(0,r.useEffect)(function(){t&&(0,c.W0)({postId:_,postAuthorId:null==g?void 0:g.authorId})},[t]),(0,s.jsx)(l.R,{header:(0,s.jsx)("span",{className:"text-h5 bg-neutral-000 px-1",children:"دیدگاه‌ها"}),isOpen:t,onClose:u,className:f,footer:(0,s.jsx)(N,{className:"mb-3 lg:mb-0",post:o,onCommentSent:function(e){U([e].concat((0,i.Z)(y)))},inputDisabled:h,inputOnClick:v}),onTouchEnd:function(e){e.stopPropagation()},children:(0,s.jsx)(a.D,{postId:_,disabled:!t,shouldDisplayLoading:!0,loadingClassName:"my-20",userSentComments:y,commentItemClassName:p,commentItemContainerClassName:m,emptyStateElement:(0,s.jsxs)("div",{className:"my-15 flex flex-col gap-3 justify-center items-center",children:[(0,s.jsx)(d.E,{src:"/statics/img/svg/empty-comments.svg",width:256,height:192,alt:"empty-comments"}),(0,s.jsx)("p",{className:"text-color-700 text-body-1",children:"اولین نفری باش که دیدگاه می‌نویسد!"})]})})})}},842:function(e,o,t){"use strict";t.d(o,{Q:function(){return d}});var n=t(52322),i=t(34990),s=t(18577),r=t(73076),a=t(90830),l=t.n(a);function d(e){var o=e.onChange,t=e.videoTimer,a=e.onTouchMove,d=e.onTouchEnd,c=e.className,u=t.playedPercent,p=t.playedSeconds,m=(0,s.ox)(p),h=m.hours,v=m.minutes,f=m.seconds,x=0===Math.floor(Number((0,r.d)(h)))?"":"".concat(h,":"),_="".concat(x).concat(v,":").concat(f);return(0,n.jsxs)("div",{className:(0,s.dh)("w-full pt-4 pb-3 flex items-center justify-between gap-1",c),onTouchEnd:function(e){return e.stopPropagation()},children:[(0,n.jsx)(i.U,{direction:"ltr",handleClassName:"!bg-white !h-4 !w-4",activeRangeClassName:"!bg-white",rangeClassName:l().VideoPlayerSeeker__range,pipClassName:"hidden",min:0,max:100,onChange:o,value:[u],onTouchMove:a,onTouchEnd:d}),(0,n.jsx)("p",{className:"text-white text-caption-strong w-12 text-left",children:_})]})}},67387:function(e,o,t){"use strict";t.d(o,{R:function(){return u}});var n=t(70865),i=t(96670),s=t(26297),r=t(50930),a=t(52322),l=t(2784),d=t(67950),c=t(98780),u=(0,l.forwardRef)(function(e,o){var t,l=e.isOpen,u=e.onClose,p=e.children,m=e.header,h=e.fixedHeight,v=(0,s.Z)(e,["isOpen","onClose","children","header","fixedHeight"]);return(0,a.jsx)(d.R,(0,i.Z)((0,n.Z)({expandOnContentDrag:!0,open:l,onDismiss:u,springConfig:{mass:.1,tension:400,friction:15},defaultSnap:function(e){var o=e.snapPoints,n=e.maxHeight;return h?Math.min(h,1)*n:(t=Math).min.apply(t,(0,r.Z)(o))},snapPoints:function(e){var o=e.maxHeight,t=[Math.min(.7*o,e.minHeight),o];return h&&t.push(Math.min(h,1)*o),t},header:m&&(0,a.jsxs)("div",{className:"flex w-full justify-between items-center gap-3 mb-2",children:[m,(0,a.jsx)(c.J,{onClick:u,icon:"cube-nav-close"})]})},v),{ref:o,children:p}))})},34990:function(e,o,t){"use strict";t.d(o,{U:function(){return m}});var n=t(70865),i=t(52322),s=t(50930),r=t(2784),a=t(6547),l=t.n(a),d=t(18577),c=t(907),u=t.n(c);function p(e){var o=e.name,t=e.direction,n=void 0===t?"rtl":t,a=e.min,c=e.max,p=e.value,m=void 0===p?[]:p,h=e.onChange,v=e.handleAttributes,f=e.pips,x=void 0===f?{density:20}:f,_=e.step,g=void 0===_?1:_,C=e.className,y=e.markerClassName,N=void 0===y?u()["noUi-marker-horizontal"]:y,U=e.handleClassName,j=e.pipClassName,w=e.rangeClassName,I=e.activeRangeClassName,b=e.onTouchMove,k=void 0===b?d.ZT:b,M=e.onTouchEnd,T=void 0===M?d.ZT:M,P=(0,r.useRef)(),O=(0,r.useRef)();return(0,r.useEffect)(function(){return O.current||(O.current=l().create(P.current,{start:m,connect:(null==m?void 0:m.length)>1||"lower",direction:n,handleAttributes:(null==v?void 0:v.length)===(null==m?void 0:m.length)?v:void 0,step:g,pips:x,range:{min:a,max:c},cssPrefix:"",cssClasses:{target:u()["noUi-target"],base:u()["noUi-base"],origin:u()["noUi-origin"],handle:(0,d.dh)(u()["noUi-handle"],U),touchArea:u()["noUi-touch-area"],horizontal:u()["noUi-horizontal"],vertical:u()["noUi-vertical"],connect:(0,d.dh)(u()["noUi-connect"],I),connects:(0,d.dh)(u()["noUi-connects"],w),ltr:u()["noUi-ltr"],rtl:u()["noUi-rtl"],textDirectionLtr:u()["noUi-txt-dir-ltr"],textDirectionRtl:u()["noUi-txt-dir-rtl"],draggable:u()["noUi-draggable"],drag:u()["noUi-state-drag"],tap:u()["noUi-state-tap"],active:u()["noUi-active"],tooltip:u()["noUi-tooltip"],pips:(0,d.dh)(u()["noUi-pips"],j),pipsHorizontal:u()["noUi-pips-horizontal"],pipsVertical:u()["noUi-pips-vertical"],marker:u()["noUi-marker"],markerHorizontal:N,markerLarge:u()["noUi-marker-large"],markerSub:u()["noUi-pips-sub"],value:u()["noUi-value"],valueHorizontal:u()["noUi-value-horizontal"],valueVertical:u()["noUi-value-vertical"],valueNormal:u()["noUi-value-normal"],valueLarge:u()["noUi-value-large"],valueSub:u()["noUi-value-sub"]}})),function(){var e,o,t;null===(e=null==O?void 0:O.current)||void 0===e||null===(o=e.noUiSlider)||void 0===o||null===(t=o.destroy)||void 0===t||t.call(o)}},[]),(0,r.useEffect)(function(){var e,o;null===(e=null==O?void 0:O.current)||void 0===e||null===(o=e.updateOptions)||void 0===o||o.call(e,{range:{min:a,max:c}},!0)},[a,c]),(0,r.useEffect)(function(){var e,t,n,i,s,r=null===(e=null==O?void 0:O.current)||void 0===e?void 0:e.get();return m.some(function(e,o){return Number(e)!==Number(r[o])})&&(null===(i=null==O?void 0:O.current)||void 0===i||null===(s=i.set)||void 0===s||s.call(i,m)),null===(t=null==O?void 0:O.current)||void 0===t||null===(n=t.on)||void 0===n||n.call(t,"update",function(e){m.some(function(o,t){return Number(o)!==Number(e[t])})&&(null==h||h({value:e,name:o}))}),function(){var e,o;null===(e=null==O?void 0:O.current)||void 0===e||null===(o=e.off)||void 0===o||o.call(e,"update")}},(0,s.Z)(m).concat([o,h])),(0,i.jsx)("div",{className:(0,d.dh)("pr-1 pl-1 w-full",C),onTouchMove:k,onTouchEnd:T,children:(0,i.jsx)("div",{ref:P})})}function m(e){return(0,i.jsx)(p,(0,n.Z)({},e))}},47485:function(e,o,t){"use strict";t.d(o,{P:function(){return s}});var n=t(52322),i=t(14061);function s(){return(0,n.jsx)("div",{className:"flex gap-3 lg:gap-6 pt-4 overflow-hidden mx-2",children:Array.from({length:20}).map(function(e,o){return(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center gap-2",children:[(0,n.jsx)(i.O,{radiusSize:"circle",width:84,height:84}),(0,n.jsx)(i.O,{width:72,height:16}),(0,n.jsx)(i.O,{width:30,height:16})]},o)})})}},86981:function(e){e.exports={container:"styles_container__ipSg9",container__nowroz:"styles_container__nowroz__W0kU9",innerContainer:"styles_innerContainer__6FPF0",image:"styles_image__ggcBy",image__nowroz:"styles_image__nowroz__t3eN8","image--live":"styles_image--live__9HAdp",timeBadge:"styles_timeBadge__9pyVG",timeBadge__nowroz:"styles_timeBadge__nowroz__JMKCo",timeBadge__started:"styles_timeBadge__started__fVz_J",timeBadge__started__nowroz:"styles_timeBadge__started__nowroz__tPLhg"}},73186:function(e){e.exports={right:"styles_right__bWd56",left:"styles_left__9JtiE"}},83679:function(e){e.exports={VideoEndedModal__item:"styles_VideoEndedModal__item__Wa_x7"}},34479:function(e){e.exports={VideoModalContentFooterOverlay:"styles_VideoModalContentFooterOverlay__Dr7La"}},57194:function(e){e.exports={VideoModalContentHeaderOverlay:"styles_VideoModalContentHeaderOverlay__BR_XF"}},90830:function(e){e.exports={VideoPlayerProgressbar__range:"styles_VideoPlayerProgressbar__range__whAT3"}},907:function(e){e.exports={"noUi-target":"styles_noUi-target__XAwMt","noUi-base":"styles_noUi-base__VsFI9","noUi-connects":"styles_noUi-connects__bbrsT","noUi-connect":"styles_noUi-connect__FBBSb","noUi-origin":"styles_noUi-origin__UEgCh","noUi-txt-dir-rtl":"styles_noUi-txt-dir-rtl__iqVbf","noUi-horizontal":"styles_noUi-horizontal__dw6Te","noUi-vertical":"styles_noUi-vertical___RXpJ","noUi-handle":"styles_noUi-handle__8L8O2","noUi-touch-area":"styles_noUi-touch-area__Lm7W6","noUi-state-tap":"styles_noUi-state-tap__dG_qu","noUi-state-drag":"styles_noUi-state-drag__C05QU","noUi-draggable":"styles_noUi-draggable__MTW_M","noUi-active":"styles_noUi-active___kO3x","noUi-pips":"styles_noUi-pips__UmpDJ","noUi-value":"styles_noUi-value__OxDP1","noUi-value-sub":"styles_noUi-value-sub__kknTe","noUi-marker":"styles_noUi-marker__5cMCy","noUi-marker-sub":"styles_noUi-marker-sub__v2vwQ","noUi-marker-large":"styles_noUi-marker-large__MjD_8","noUi-pips-horizontal":"styles_noUi-pips-horizontal__KW2RI","noUi-value-horizontal":"styles_noUi-value-horizontal__CSfom","noUi-rtl":"styles_noUi-rtl__a4z36","noUi-marker-horizontal":"styles_noUi-marker-horizontal__4RGRJ","noUi-pips-vertical":"styles_noUi-pips-vertical__Hwad_","noUi-value-vertical":"styles_noUi-value-vertical__po5AX","noUi-marker-vertical":"styles_noUi-marker-vertical__bI49x","noUi-tooltip":"styles_noUi-tooltip__L4_c7"}}}]);
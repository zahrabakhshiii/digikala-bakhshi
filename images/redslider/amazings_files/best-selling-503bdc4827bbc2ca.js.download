(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7260],{6566:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/best-selling",function(){return a(82798)}])},82798:function(e,t,a){"use strict";a.r(t),a.d(t,{__getServerSideProps:function(){return F},default:function(){return z}});var n,r=a(40171),s=a(47842),i=a(52322),l=a(31909),o=a(82039),c=a(2607),d=a(93723),u=a(24687),g=a(45227),p=a(64177),x=a(55357),v=a(41701),m=a(72677),h=a(70865),f=a(90917),_=a(73587),N=a(79968),j=a(1324),b=a(12694),P=a(64248),S=(0,j.q)({url:"/best-selling/",transformer:function(e){var t,a,n,r,s=e.data;return(0,P.Y)({title:null==s?void 0:s.title,seeMoreUrl:(0,N.f)({data:null==s?void 0:s.see_more_url}),products:(null==s?void 0:null===(t=s.products)||void 0===t?void 0:null===(a=t.map)||void 0===a?void 0:a.call(t,function(e,t){return(0,h.Z)({productBestSellingRank:t+1},(0,_.r)({data:e}))}))||[],categories:(null==s?void 0:null===(n=s.categories)||void 0===n?void 0:null===(r=n.map)||void 0===r?void 0:r.call(n,function(e){return(0,f.n)({data:e})}))||[]})},inputTransformer:function(e){var t;return(0,b.s)((t={},(0,s.Z)(t,g.Tx.CATEGORY_ID,null==e?void 0:e[g.Tx.CATEGORY_ID]),(0,s.Z)(t,g.Tx.LAST_DAYS,null==e?void 0:e[g.Tx.LAST_DAYS]),t))},isPageGetRequest:!0}),y=a(5632),T=a(15644),A=a(98723),R=a(41435),w=a(82332),k=a(50020),D=a(10896),C="pointer lg:my-2 inline-block mx-2";function E(e){var t=e.categories,a=void 0===t?[]:t,n=e.activeCategoryId,r=e.pending,l=e.addAllOption,o=(0,y.useRouter)(),c=(0,R.x)(a),d=c&&void 0!==r&&r?Array(12).fill({}):a;return(0,i.jsxs)("div",{className:"overflow-x-auto flex lg:flex-wrap lg:justify-center pr-2 pl-3 py-5 text-center whitespace-nowrap hide-scrollbar",children:[!c&&void 0!==l&&l&&(0,i.jsx)(A.r,{to:(0,D.K)({url:o.pathname}),children:(0,i.jsx)(T.A,{isSkeleton:c,className:C,label:"همه نوع کالا",isActive:(0,k.k)(n),size:"medium"})}),d.map(function(e,t){var a=e.categoryId,r=e.categoryTitleFa;return(0,i.jsx)(A.r,{CROId:"best-selling-categories",to:(0,D.K)({queries:(0,s.Z)({},g.Tx.CATEGORY_ID,a),url:o.asPath}),children:(0,i.jsx)(T.A,{isSkeleton:c,size:"medium",className:C,label:r,isActive:(0,w.t)(a,n)})},null!=a?a:t)})]})}var I=a(55344),O=a.n(I);function Z(e){var t,a=e.isActive,n=e.rangeName,r=(0,m.d)("text-button-1 text-center cursor-pointer px-3 lg:px-4 whitespace-nowrap",O().Range,(t={},(0,s.Z)(t,O()["Range--active"],a),(0,s.Z)(t,"text-neutral-900",!a),t));return(0,i.jsx)("div",{className:r,children:n})}var H=a(15885),L=a.n(H);function Y(e){var t=e.isLeft,a=(0,m.d)("hidden lg:block",L().SidePane,(0,s.Z)({},L()["SidePane--left"],t));return(0,i.jsx)("span",{className:a})}var K=a(21505),M=a.n(K),G=(0,m.d)(M().sellingRange,"block lg:hidden mt-5");function q(e){var t=e.ranges,a=e.activeRange,n=void 0===a?"week":a,r=(0,y.useRouter)(),l=(0,m.d)("grid gap-1 lg:gap-3 px-6","grid-cols-".concat(null==t?void 0:t.length));return(0,i.jsxs)("div",{className:"relative w-full -mt-4 h-13 lg:h-10  flex lg:flex-row flex-col justify-center items-center",children:[(0,i.jsx)(Y,{}),(0,i.jsx)("div",{className:l,children:t.map(function(e,t){var a=e.rangeId,l=e.rangeUrl,o=e.rangeName;return(0,i.jsx)(A.r,{CROId:"best-selling-date",to:(0,D.K)({url:r.asPath,queries:(0,s.Z)({},g.Tx.LAST_DAYS,a)}),children:(0,i.jsx)(Z,{isActive:(0,w.t)(n,a),rangeName:o})},null!=l?l:t)})}),(0,i.jsx)(Y,{isLeft:!0}),(0,i.jsx)("span",{className:G})]})}var B={WEEK:"week",MONTH:"month"},U=[{rangeName:"۷ روز گذشته",rangeId:B.WEEK},{rangeName:"۳۰ روز گذشته",rangeId:B.MONTH}],W=a(15260),X=a.n(W),z=(0,v.D)((n={},(0,s.Z)(n,"component",function(){var e=(0,p.C)().isDesktop,t=(0,x.et)(),a=t.data,n=t.fetchNextPage,r=t.hasNextPage,s=t.items,v=t.pending,h=t.params,f=t.fetchPage,_=t.pageNumber,N=t.changeParams,j=(a||{}).categories,b=h||{},P=b[g.Tx.LAST_DAYS],S=b[g.Tx.CATEGORY_ID];return(0,i.jsxs)(i.Fragment,{children:[!e&&(0,i.jsxs)(d.D,{className:"bg-neutral-000 relative overflow-hidden",children:[(0,i.jsx)(l.E,{src:"/statics/img/svg/typography/bestSellingPattern.svg",className:(0,m.d)("absolute right-0 left-0 w-full top-0 bottom-0",X().mobileHeader)}),(0,i.jsx)(d.D.BackButton,{}),(0,i.jsx)("span",{className:"text-primary-700 text-h2",children:"پرفروش‌ترین‌ها"}),(0,i.jsx)(d.D.ShareButton,{})]}),(0,i.jsxs)("div",{className:"px-5 lg:px-0",children:[e&&(0,i.jsxs)(c.Z,{isStatic:!0,isDesktopStatic:!0,children:[(0,i.jsx)(o.V,{}),(0,i.jsx)(q,{ranges:U,activeRange:P}),(0,i.jsx)(E,{categories:j,pending:v,activeCategoryId:S,addAllOption:!0})]}),(0,i.jsx)(u.c,{wrapperClassName:"mt-3",pages:s,fetchNextPage:n,fetchPage:f,pageNumber:_,hasNextPage:r,pending:v,changeParams:N,data:a,params:h,shouldHideProductListHeader:!0,shouldHideDesktopSidebar:!0})]})]})}),(0,s.Z)(n,"dataProps",{apiMethod:S,disabled:!1,shouldUseLocation:!0}),(0,s.Z)(n,"layoutProps",{desktopContentWidth:"4xl",chatKey:"best-selling",hasMobileHeader:!1}),n)),F=(0,r.I)({getSSRMethods:z.getAPIMethods,queryProps:z.dataProps})},82039:function(e,t,a){"use strict";a.d(t,{V:function(){return l}});var n=a(52322),r=a(72677),s=a(48901),i=a.n(s);function l(e){var t=e.title,a=e.className,s=(0,r.d)("relative w-full mb-4 flex justify-center items-center",a,i().hero);return(0,n.jsx)("div",{className:s,children:(0,n.jsx)("h1",{className:"opcaity-100 relative bg-neutral-000 text-primary-700 text-h1 text-center pt-2 pb-5 lg:py-5 mx-auto",children:void 0===t?"پرفروش‌ترین‌ها":t})})}},55344:function(e){e.exports={Range:"styles_Range__eZ6oK","Range--active":"styles_Range--active__3xwOS"}},21505:function(e){e.exports={sellingRange:"styles_sellingRange___6LtP"}},15885:function(e){e.exports={SidePane:"styles_SidePane__13J_G","SidePane--left":"styles_SidePane--left__ouToQ"}},15260:function(e){e.exports={mobileHeader:"styles_mobileHeader__5OX3C"}},48901:function(e){e.exports={hero:"hero_hero__0r15T"}}},function(e){e.O(0,[6547,5214,3209,6057,3570,2122,8364,9774,2888,179],function(){return e(e.s=6566)}),_N_E=e.O()}]);
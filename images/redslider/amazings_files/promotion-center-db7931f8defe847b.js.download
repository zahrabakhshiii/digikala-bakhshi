(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3432],{86741:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/promotion-center",function(){return n(49465)}])},14278:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var i=n(70865),a=n(96670),r=n(66383),o=n(52322),s=n(2784),l=n(17165),d=n(57931),c=n(11559),u=n(36696),p=n(55201),v=n(75490),_=n(52216),f=n(72677),h=n(45227),m=n(5032),g=(0,n(1324).q)({url:function(e){var t=e.id;return"/assign-promotion-voucher/".concat(t,"/")},type:h.XN.POST,inputTransformer:function(e){var t=e.type;return{id:e.id,type:t}},transformer:function(e){var t=e.data||{},n=t.has_voucher,i=t.voucher_remaining_count,a=t.voucher_data,r=t.message,o=a||{},s=o.id,l=o.code,d=o.expire_date,c=o.url,u=o.title,p=o.description;return{hasVoucher:n,message:r,voucherData:{voucherCode:l,voucherExpireDate:d,voucherPlpLink:(0,m.v)({data:c}),voucherTitle:u,voucherDescription:p,voucherId:s,voucherRemainingCount:i}}}}),x=n(9993);function b(e){var t=e.className,n=e.voucher,h=(0,r.Z)((0,u.m)("کپی شد",""),2),m=h[0],b=h[1],y=n||{},S=y.trackerImpressionData,w=y.voucherData,N=y.voucherType,j=w||{},C=j.voucherId,I=j.voucherRemainingCount,B=j.voucherPlpLink,k=j.voucherDescription,T=j.voucherExpireDate,O=j.voucherTitle,E=(0,r.Z)((0,s.useState)(),2),L=E[0],A=E[1],P=(0,c.E)({apiMethod:g,onSuccess:function(e){var t=e.message,n=e.hasVoucher;A(e.voucherData),(0,p.q)((0,a.Z)((0,i.Z)({},S),{title:"voucher_click"})),t&&!n&&(0,v.p)({message:t})}}),D=P.request,R=P.pending;return(0,s.useEffect)(function(){m&&(0,v.p)({message:"کد تخفیف کپی شد. در مرحله‌ی خرید می‌توانید کد تخفیف را وارد کنید."})},[m]),(0,o.jsxs)("div",{className:(0,f.d)("p-1",t),children:[(0,o.jsx)("header",{className:"text-body1-strong text-icon-high-emphasis",children:(0,_.U)(O)}),(0,o.jsx)("p",{className:"text-body-2 text-icon-neutral-hint",children:(0,_.U)(k)}),(null==L?void 0:L.voucherCode)?(0,o.jsx)(d.z,{size:"small",shape:"outlined",color:"black",appendIcon:!m&&"copy",iconColor:"high-emphasis",className:"my-2 w-full text-button-2 text-button-black",onClick:function(e){e.stopPropagation(),b(L.voucherCode),(0,p.q)((0,a.Z)((0,i.Z)({},S),{type:"copy_voucher",index:+C}))},children:m||L.voucherCode}):(0,o.jsx)(d.z,{size:"small",shape:"outlined",color:"black",iconColor:"high-emphasis",className:"my-2 w-full text-button-2 text-button-black",onClick:function(){D({id:C,type:N})},loading:R,children:"نمایش کد"}),(0,o.jsxs)("div",{className:(0,f.d)("flex justify-between items-center my-1",t),children:[(0,o.jsxs)("div",{className:"flex justify-around items-center gap-2",children:[(0,o.jsxs)("p",{className:"text-caption-strong text-icon-high-emphasis",children:["اعتبار: ",(0,_.U)(T)]}),I<10&&(0,o.jsx)(l.C,{text:"در حال اتمام",type:"warning",size:"small",shape:"outlined",textColor:"text-hint-text-caution",hasBorder:!0,bgColor:"transparent"})]}),(0,o.jsx)(x.g,{to:B,onClick:function(){(0,p.q)((0,a.Z)((0,i.Z)({},S),{title:"لیست‌ کالاها",type:"voucher_see_all_products"}))},shouldHandleUrlAndOnClick:!0,shape:"text",color:"secondary",appendIcon:"chevronLeft",iconColor:"secondary",target:"_blank",removePadding:!0,className:"ml-[-8px]",children:"لیست‌ کالاها"})]})]})}},23056:function(e,t,n){"use strict";n.d(t,{c:function(){return o}});var i=n(66383),a=n(2784),r=0;function o(e){var t,n,o=e.elementRef,s=null===(t=null===(n=o.current)||void 0===n?void 0:n.getBoundingClientRect())||void 0===t?void 0:t.top,l=(0,i.Z)((0,a.useState)({elementTopOffset:s,isScrollingToTop:!1}),2),d=l[0],c=l[1];return(0,a.useEffect)(function(){var e=function(){s=null===(e=null===(t=o.current)||void 0===t?void 0:t.getBoundingClientRect())||void 0===e?void 0:e.top;var e,t,n=window.pageYOffset||document.documentElement.scrollTop;n>r?c({elementTopOffset:s,isScrollingToTop:!1}):n<r&&c({elementTopOffset:s,isScrollingToTop:!0}),r=n<=0?0:n};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}},[]),{elementScrollInfo:d}}},14433:function(e,t,n){"use strict";n.d(t,{A4:function(){return s},Cb:function(){return r},Mb:function(){return a},_9:function(){return i},dF:function(){return o}});var i="/statics/img/svg/promotionCenter",a="category-tabs-slider",r="/statics/img/svg/profile/magnet-default-avatart.svg",o="/statics/img/svg/promotionCenter/shopping-bag.svg",s={id:876,type:"static"}},9993:function(e,t,n){"use strict";n.d(t,{g:function(){return _}});var i=n(47842),a=n(70865),r=n(96670),o=n(26297),s=n(52322),l=n(57931),d=n(98723),c=n(72677),u=n(5240),p=n.n(u),v={outlined:p().button,text:p().button,filled:p()["button--filled"]};function _(e){var t,n=e.children,u=e.className,_=e.disabled,f=e.mode,h=void 0===f?"filled":f,m=e.type,g=void 0===m?"submit":m,x=e.color,b=e.to,y=e.onClick,S=(0,o.Z)(e,["children","className","disabled","mode","type","color","to","onClick"]),w=(0,c.d)(u,(t={},(0,i.Z)(t,p().disabled,_),(0,i.Z)(t,v[h],!x&&h&&!_),t)),N=function(){return(0,s.jsx)(l.z,(0,r.Z)((0,a.Z)({type:g,className:w,iconColor:"white",mode:h,color:x,to:b,onClick:y},S),{children:n}))};return b&&y?(0,s.jsx)(d.r,{to:b,onClick:y,shouldHandleUrlAndOnClick:!0,target:"_blank",children:(0,s.jsx)(N,{})}):(0,s.jsx)(N,{})}},77655:function(e,t,n){"use strict";n.d(t,{F:function(){return i}});var i={CAMPAIGN_WIDGET_VIEW:"campaign_widget_view",CAMPAIGN_WIDGET_CLICK:"campaign_widget_click"}},8538:function(e,t,n){"use strict";n.d(t,{F:function(){return o}});var i=n(66383),a=n(2784),r=n(12289);function o(e){var t=e.eventData,n=e.callback,o=e.disableHook,s=void 0!==o&&o,l=e.threshold,d=(0,a.useRef)(!1),c=(0,i.Z)((0,r.R)({threshold:void 0===l?.6:l}),2),u=c[0],p=c[1];return(0,a.useEffect)(function(){s||!p||d.current||(d.current=!0,null==n||n(t,!0))},[p,s]),u}},5032:function(e,t,n){"use strict";n.d(t,{v:function(){return l}});var i=n(43202),a=n(79593),r=n(41435),o=n(3336),s=n(23004);function l(e){var t=e.data,n="";if((0,r.x)(t))return null;if((0,o.H)(t))return t;var l=t||{},d=l.base,c=l.uri;if(d&&(n+=d),n+=c,!a.s){var u,p,v,_,f,h,m,g,x,b=(0,s.p)(i.AZ);b&&(p=(u={url:n,key:i.AZ,value:b}).url,v=u.key,_=u.value,f="",h=p.indexOf("#"),-1!==(m=p.indexOf("?"))&&(f=p.substring(m+1,-1!==h?h:void 0)),g=-1!==m?p.substring(0,m):p,x=[],""!==f&&(x=f.split("&")),x.push("".concat(v,"=").concat(_)),n=g+(x.length>0?"?".concat(x.join("&")):"")+(-1!==h?p.substring(h):""))}return n}},49465:function(e,t,n){"use strict";n.r(t),n.d(t,{__getServerSideProps:function(){return eC},default:function(){return eI}});var i=n(40171),a=n(52322),r=n(64665),o=n(41701),s=n(1324),l=n(70582),d=n(41435),c=n(14433),u=n(5032),p=n(18577),v=n(46932),_=n(94053);function f(e){var t=e.data||{},n=t.pager,i=t.data;return{products:null==i?void 0:i.map(function(e,t){var n,i,a,r,o,s,l,d,u,p,v,f,h,m,g,x;return o=(n={data:e,index:t}).data,s=n.index,d=(l=o||{}).magnet_video,p=(u=l.product_data||{}).status,v=u.images,f=u.rating,h=u.title_fa,m=u.default_variant,g=u.id,x=u.url,(0,_.d)({data:{status:p,images:v,rating:f,title_fa:h,url:x,default_variant:{price:{discount_percent:null==m?void 0:null===(i=m.price)||void 0===i?void 0:i.discount_percent,selling_price:null==m?void 0:null===(a=m.price)||void 0===a?void 0:a.selling_price,rrp_price:null==m?void 0:null===(r=m.price)||void 0===r?void 0:r.rrp_price}},magnet_video:null==d?void 0:d[0],landingId:c.A4.id,index:s,id:g,widgetType:"promotion_center-v2_products"}})}),pager:(0,v.d)({data:n})}}var h=(0,s.q)({url:"/promotion-center/",transformer:function(e){var t,n,i,a=e.data||{},r=a.campaign,o=a.voucher,s=a.shop_by_interest;return{banners:function(e){var t=(e.data||{}).campaign;if(!(0,d.x)(t))return null==t?void 0:t.map(function(e,t){var n=e||{},i=n.banner,a=n.banner_url;return{bannerId:i.id,bannerImage:(0,l.W)({data:i}),bannerLink:(0,u.v)({data:a}),trackerImpressionData:{bannerId:i.id,campaign:c.A4,widgetType:"promotion_center_banner",index:t,title:null==i?void 0:i.title}}})}({data:{campaign:r}}),vouchers:function(e){var t=(e.data||{}).voucher;if(!(0,p.xb)(t))return null==t?void 0:t.map(function(e,t){var n=e||{},i=n.voucher_type,a=n.voucher_thumbnail,r=n.voucher_data,o=n.voucher_remaining_count,s=n.is_expiring,d=r||{},p=d.id,v=d.code,_=d.title,f=d.description,h=d.url,m=d.expire_date;return{isVoucherExpiring:s,voucherType:i,voucherThumbnail:(0,l.W)({data:a}),voucherData:{voucherId:p,voucherCode:v,voucherDescription:f,voucherTitle:_,voucherPlpLink:(0,u.v)({data:h}),voucherExpireDate:m,voucherRemainingCount:o},trackerImpressionData:{campaign:c.A4,widgetType:"promotion_center_voucher",title:_,index:t}}})}({data:{voucher:o}}),shopByInterest:(n=(t=s||{}).all_shop_by_interests,i=t.first_shop_by_interest,{categories:null==n?void 0:n.map(function(e){var t,n,i;return n=(t=e||{}).shop_by_interest_id,i=t.thumbnail,{id:n,title:t.title,image:(0,l.W)({data:i||c.dF})}}),activeCategory:f({data:i})})}},isPageGetRequest:!0,version:2}),m=n(66383),g=n(2784),x=n(70423),b=n(57931),y=n(98634),S=n(72677),w=n(31909),N=n(64177);function j(){var e=(0,N.C)().isDesktop;return(0,a.jsx)("div",{className:"w-full relative flex items-center justify-center bg-gradient-to-r from-brand-primary to-plus-500 h-[64px]",children:e?(0,a.jsx)(w.E,{height:32,src:"".concat(c._9,"/promotion-center-text-desktop.svg")}):(0,a.jsx)(w.E,{height:22,src:"".concat(c._9,"/promotion-center-text.svg")})})}var C=n(5830),I=n(32661),B=n(70865),k=n(96670),T=n(98723),O=n(8155),E=n(55201),L=n(77655),A=n(8538);function P(e){var t=e.banner,n=e.trackerImpressionData,i=e.className,r=t||{},o=r.bannerLink,s=r.bannerImage,l=(0,N.C)().isDesktop,d=(0,A.F)({eventData:n,callback:function(e){return(0,E.q)(e,!0)}});return(0,a.jsx)("div",{className:i,ref:d,children:(0,a.jsx)(T.r,{to:o,target:"_blank",shouldHandleUrlAndOnClick:!0,onClick:function(){(0,O.kE)((0,k.Z)((0,B.Z)({},n),{type:L.F.CAMPAIGN_WIDGET_CLICK}))},children:(0,a.jsx)(w.E,{lazy:!0,objectFit:"contain",image:s,imageClassName:(0,S.d)("rounded w-unset",{"h-[200px]":l,"h-[120px]":!l}),className:"w-full"})})})}function D(e){var t,n=e.banners,i=e.className,r=e.sliderStyle,o=e.autoplay,s=(0,g.useRef)(null),l=null===(t=s.current)||void 0===t?void 0:t.width;return(0,g.useEffect)(function(){o&&(s.current.autoplay.start(),Object.assign(s.current.params.autoplay,{delay:300,disableOnInteraction:!1}))},[o]),(0,a.jsx)(I.f,{className:i,isLoop:!0,reference:s,speed:2400,slides:null==n?void 0:n.map(function(e){return(0,a.jsx)(P,{banner:{bannerLink:null==e?void 0:e.bannerLink,bannerImage:e.bannerImage},trackerImpressionData:e.trackerImpressionData},e.bannerId)}),mode:C._.CAROUSEL,spaceBetween:12,slidesPerView:"auto",slideStyle:r,hasNavigation:l>976,centeredSlides:!1})}var R={delay:500,disableOnInteraction:!1};function F(e){var t,n,i=e.banners,r=e.className,o=e.sliderStyle,s=e.autoplay,l=(0,g.useRef)(null),d=(0,g.useRef)(null),c=null===(t=l.current)||void 0===t?void 0:t.width,u=null===(n=d.current)||void 0===n?void 0:n.width,p=(0,g.useMemo)(function(){var e=[],t=[];return i.forEach(function(n,i){(i+1)%2==0?e.push(n):t.push(n)}),{evens:e,odds:t}},[i]),v=p.evens,_=p.odds,f=function(e){return null==e?void 0:e.map(function(e){return(0,a.jsx)(P,{banner:{bannerLink:null==e?void 0:e.bannerLink,bannerImage:e.bannerImage},trackerImpressionData:e.trackerImpressionData},e.bannerId)})};return(0,g.useEffect)(function(){var e,t,n,i,a,r,o,c;s&&(null===(e=d.current)||void 0===e||null===(t=e.autoplay)||void 0===t||t.start(),null===(n=l.current)||void 0===n||null===(i=n.autoplay)||void 0===i||i.start(),Object.assign(null===(a=d.current)||void 0===a?void 0:null===(r=a.params)||void 0===r?void 0:r.autoplay,R),Object.assign(null===(o=l.current)||void 0===o?void 0:null===(c=o.params)||void 0===c?void 0:c.autoplay,R))},[s]),(0,a.jsxs)("div",{className:(0,S.d)("flex flex-col justify-center items-center gap-3",r),children:[(0,a.jsx)(I.f,{isLoop:!0,reference:l,slides:f(_),mode:C._.CAROUSEL,spaceBetween:12,slidesPerView:"auto",slideStyle:o,hasNavigation:c>976,speed:2400,centeredSlides:!1,className:"w-full"}),(0,a.jsx)(I.f,{isLoop:!0,reference:d,slides:f(v),mode:C._.CAROUSEL,spaceBetween:12,slidesPerView:"auto",slideStyle:o,hasNavigation:u>976,speed:2400,centeredSlides:!1,className:"w-full"})]})}var Z={width:"fit-content",height:"auto"};function z(e){var t=e.banners,n=e.className,i=(0,m.Z)((0,g.useState)(!1),2),r=i[0],o=i[1],s=(0,N.C)().isDesktop,l=(0,S.d)("w-full my-4",n);return((0,g.useEffect)(function(){if(!r){var e=setTimeout(function(){o(!0)},3e3);return function(){clearTimeout(e)}}},[r]),s)?(0,a.jsx)(D,{banners:t,autoplay:r,sliderStyle:Z,className:l}):(0,a.jsx)(F,{banners:t,autoplay:r,sliderStyle:Z,className:l})}var M=n(25237),G=n.n(M),W=n(80803),U=n(61538),V=n(17165),q=n(52216),H=n(50603),Y=n(14278),K=function(e){var t=e.className,n=e.isOpen,i=e.voucher,r=e.onClose;return(0,a.jsx)(H.Modal,{onDismiss:r,headerTitle:(0,a.jsx)("h5",{className:"text-h5 text-icon-high-emphasis",children:"جزئیات کد تخفیف"}),className:t,isOpen:void 0!==n&&n,children:(0,a.jsx)(Y.Z,{voucher:i})})},X=n(13479),Q=n.n(X),J=(0,g.memo)(function(e){var t=e.voucher,n=e.className,i=e.isDesktop,r=t||{},o=r.trackerImpressionData,s=r.voucherData||{},l=s.voucherDescription,d=s.voucherTitle,c=s.voucherRemainingCount,u=(0,A.F)({eventData:o,callback:function(e){return(0,E.q)(e,!0)}}),p=(0,U.d)(),v=p.isOpen,_=p.onOpen,f=p.onClose,h=0===c&&!1,m=c<10&&!h;return(0,a.jsxs)("div",{ref:u,className:(0,S.d)("w-[224px] lg:w-[280px] cursor-pointer rounded-md h-full flex items-stretch m-auto overflow-hidden relative",{"pointer-events-none opacity-50":h},Q().coupon,n),children:[(0,a.jsx)("div",{className:"text-center mx-auto w-[90%] mt-auto py-3",children:(0,a.jsxs)("div",{className:"gap-1 flex flex-col",role:"button",onClick:function(){_(),(0,E.q)(o)},children:[h&&(0,a.jsx)(w.E,{src:"/statics/img/png/expired-badge-".concat(i?"desktop":"mobile",".png"),className:(0,S.d)("absolute inset-0 m-auto z-1",Q().expiredBadge),height:35}),(0,a.jsxs)("div",{className:(0,S.d)("flex items-center w-full h-[50px]",{"justify-around":m,"justify-center":!m}),children:[(0,a.jsx)("p",{className:"text-subtitle-extra text-icon-high-emphasis max-w-[180px] whitespace-nowrap overflow-hidden z-2",children:(0,q.U)(d)}),m&&(0,a.jsx)(V.C,{className:(0,S.d)("z-2 !py-3",Q().stockOutBadge),text:"در حال اتمام",type:"warning",size:"small",shape:"outlined",textColor:"!text-tools-500",hasBorder:!0,bgColor:"transparent"})]}),(0,a.jsx)("div",{className:"border-b border-t-0 border-r-0 border-l-0 border-dashed border-neutral-300 w-full"}),(0,a.jsx)("p",{className:"text-body1-strong text-neutral-500 text-center h-[50px]",children:(0,q.U)(l)})]})}),v&&(0,a.jsx)(K,{isOpen:v,onClose:f,voucher:t})]})}),$=G()(function(){return n.e(5480).then(n.bind(n,55480))},{loadableGenerated:{webpack:function(){return[55480]}}}),ee={width:"fit-content",height:"auto"};function et(e){var t,n=e.vouchers,i=e.className,r=(0,N.C)().isDesktop,o=(0,g.useRef)(null),s=null===(t=o.current)||void 0===t?void 0:t.width,l=(0,W.d)(),d=l.isOpen,u=l.onOpen,p=l.onClose,v=n.map(function(e){return(0,a.jsx)(J,{voucher:e,isDesktop:r},e.voucherData.voucherId)});return(0,a.jsxs)("div",{className:(0,S.d)("w-full",i),children:[(0,a.jsxs)("div",{className:"bg-gradient-to-b from-brand-primary to-plus-500 p-6 flex justify-start items-stretch gap-6",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,a.jsx)(w.E,{lazy:!0,objectFit:"contain",width:r?84:77,src:"".concat(c._9,"/discount.svg"),imageClassName:"rounded"}),(0,a.jsx)(b.z,{shape:"text",appendIcon:"chevronLeft",color:"white",iconColor:"white",appendIconClassName:"-mr-1",className:"text-button-2 text-button-text-white text-no-wrap min-w-max -ml-2",onClick:function(){u(),(0,E.q)({campaign:c.A4,title:"مشاهده همه",widgetType:"vouchers_see_all"})},removePadding:!0,children:"مشاهده همه"})]}),(0,a.jsx)(I.f,{reference:o,slides:v,mode:C._.GALLERY,className:(0,S.d)("overflow-auto",i),spaceBetween:r?18:12,slidesPerView:"auto",slideStyle:ee,centeredSlides:!1,hasNavigation:s>976})]}),d&&(0,a.jsx)($,{vouchers:n,open:d,onClose:p})]})}var en=n(57033),ei=n(15857),ea=n(73092),er=n(16991),eo=n(94133),es=(0,s.q)({url:function(e){var t=e.categoryId;return"/promotion-center/get-shop-by-interest/".concat(t,"/")},transformer:function(e){var t=e.data;return f({data:null==t?void 0:t.shop_by_interest})},isPageGetRequest:!0,inputTransformer:function(e){return{page:e.page}},version:2}),el=n(17782),ed=n(45546);function ec(e){var t=e.className,n=e.activeTabId,i=(0,N.C)().isDesktop,r=i?er.p.XL4:er.p.SM,o={type:ed.te.PROMOTION_CENTER,isTrackerViewTypeEnabled:!0,campaignTrackerInfo:c.A4},s=(0,ei.b)({columnWidth:ed.zR.PROMOTION_CENTER(i),container:r,withFilter:!1,wrappedInModal:!1}),l=(0,S.d)("relative w-full flex flex-col lg:flex-row items-center lg:items-stretch justify-between z-0",t),u=(0,eo.a)({apiMethod:es,apiData:{categoryId:n}}),p=u.pending,v=u.data,_=u.items,f=u.fetchPage,h=u.pageNumber,x=u.changeParams,b=(0,g.useMemo)(function(){return Object.entries(_||{}).flatMap(function(e){var t=(0,m.Z)(e,2)[1];return(null==t?void 0:t.products)||[]})},[_,h]),y=(0,d.x)(b)&&!p,w=(0,g.useCallback)(function(e){var t=e.page;x(function(e){return(0,k.Z)((0,B.Z)({},e),{page:t})})},[x]);return(0,a.jsx)("div",{className:"container-2xl-w-w",children:(0,a.jsx)("div",{id:"plpLayoutContainer",className:l,children:(0,a.jsx)("section",{className:"w-full grow relative",id:c.Mb,children:y?(0,a.jsx)(ea.T,{}):(0,a.jsx)(en.S,{hidePagination:!0,itemComponent:el.n,items:b,itemsPerRow:s,pending:p,lazyLoadOffsetPage:10,disableBorderForLastRow:!0,itemClassName:"lg:max-w-[339px] lg:min-width[unset] min-width[179px] ",itemsWrapperClassname:"justify-center",pager:null==v?void 0:v.pager,fetchPage:f,resetItems:w,itemProps:o})})})})}var eu=n(87049),ep=n(83178),ev=n(76778),e_=n(47842),ef=n(54677),eh=n.n(ef);function em(e){var t,n=e.tabData,i=e.hasFadeOutAnimation,r=e.handleTabClick,o=e.activeTabId,s=n||{},l=s.title,d=s.image,u=s.id,p=(0,N.C)().isDesktop?132:108,v=(0,A.F)({eventData:{campaign:c.A4,widgetId:u,widgetType:"category_tab",type:L.F.CAMPAIGN_WIDGET_VIEW},disableHook:!1,callback:E.q}),_=(0,S.d)("flex flex-col justify-center items-center rounded-md p-2 cursor-pointer sticky top-200",(0,e_.Z)({},eh()["wrapper--fadeOut"],i),{"border-solid border-secondary-700":o===u},{"border-complete":o!==u});return(0,a.jsxs)("div",{className:_,onClick:r(u),ref:v,children:[(0,a.jsx)(w.E,{image:d,width:p,height:p,className:(0,S.d)(eh().tabsImage,(t={},(0,e_.Z)(t,eh()["tabsImage--fadeOut"],i),(0,e_.Z)(t,"p-2 mb-1",!i),t))}),(0,a.jsx)("p",{className:"text-caption-strong m-1 w-full text-center",children:l})]})}var eg=n(23056),ex={width:"auto",height:"auto"};function eb(e){var t=e.tabs,n=e.setActiveTabId,i=e.activeTabId,r=(0,eu.v)(ep.n.desktopHeaderSize).height,o=(0,N.C)().isDesktop,s=(0,g.useRef)(),l=(0,eg.c)({elementRef:s}).elementScrollInfo,d=(null==l?void 0:l.elementTopOffset)<=(o?r:56)+35,u=function(e){return function(){n(e),d||(0,ev.X5)(c.Mb,o?-500:-300),(0,E.q)({campaign:c.A4,widgetId:e,widgetType:"category_tab",type:L.F.CAMPAIGN_WIDGET_CLICK})}};return(0,a.jsxs)("div",{className:"sticky z-1 bg-white py-2 flex flex-col justify-center items-center gap-3",style:{top:o?r:56},ref:s,children:[(0,a.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,a.jsxs)("div",{className:"flex flex-col justify-start items-start w-full pr-3 lg:pr-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,a.jsx)(w.E,{src:"".concat(c._9,"/favorite-list.svg"),width:24,height:24}),(0,a.jsx)("h3",{className:"text-icon-high-emphasis text-h4",children:"خرید بر اساس علایق"})]}),!d&&(0,a.jsx)("p",{className:"text-icon-low-emphasis text-body-2 mr-7 mb-3",children:"دنبال علاقه‌ت برو و روزت رو بساز!"})]})}),(0,a.jsx)(I.f,{slides:null==t?void 0:t.map(function(e){return(0,a.jsx)(em,{activeTabId:i,handleTabClick:u,tabData:e,hasFadeOutAnimation:d},e.id)}),mode:C._.GALLERY,centeredSlides:!1,spaceBetween:10,slidesPerView:"auto",className:"flex-1 pr-3 w-full",slideStyle:ex})]})}function ey(e){var t=(e.data||{}).categories,n=(0,m.Z)((0,g.useState)(t[0].id),2),i=n[0],r=n[1];return(0,a.jsxs)("div",{className:"flex flex-col relative my-2 gap-2 lg:gap-10 z-1",children:[(0,a.jsx)(eb,{tabs:t,setActiveTabId:r,activeTabId:i}),(0,a.jsx)("div",{className:"lg:w-4/5 m-auto",children:(0,a.jsx)(ec,{activeTabId:i})})]})}var eS=n(60424),ew=n.n(eS);function eN(e){var t=e.ssrData,n=(0,m.Z)((0,g.useState)(t),2),i=n[0],r=n[1],o=(0,m.Z)((0,g.useState)(!1),2),s=o[0],l=o[1];return(0,g.useEffect)(function(){var e=(0,y.P2)(function(){l(window.scrollY>200)},100);return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}},[]),(0,g.useEffect)(function(){r(t)},[t]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(j,{}),(null==i?void 0:i.banners)&&(0,a.jsx)(z,{banners:i.banners}),(null==i?void 0:i.vouchers)&&(0,a.jsx)(et,{vouchers:i.vouchers})]}),(0,a.jsxs)("div",{className:"max-w-4xl mt-4",children:[(null==i?void 0:i.shopByInterest)&&(0,a.jsx)(ey,{data:i.shopByInterest}),(0,a.jsx)(b.z,{className:(0,S.d)("transition-opacity duration-300 z-2",{"opacity-100":s,"opacity-0 pointer-events-none":!s},ew().scrollButton),icon:!0,prependIcon:"arrowDown",prependIconClassName:(0,S.d)(ew().scrollButtonIcon),onClick:function(){x.NY.scrollToTop({duration:100,delay:1,smooth:"easeInOutQuint"})},iconColor:"white"})]})]})}var ej=(0,o.D)({component:function(e){var t=e.ssrData;return(0,a.jsx)(eN,{ssrData:t})},getAPIMethods:function(){return[{apiMethod:h}]},layoutProps:{desktopFullWidth:!0},pageActivatorFeature:r.X.PROMOTION_CENTER_V2}),eC=(0,i.I)({getSSRMethods:ej.getAPIMethods}),eI=ej},57033:function(e,t,n){"use strict";n.d(t,{S:function(){return d}});var i=n(70865),a=n(96670),r=n(26297),o=n(52322),s=n(98017),l=n(93008);function d(e){var t=e.lazyLoadOffsetPage,n=void 0===t?l.yo:t,d=(0,r.Z)(e,["lazyLoadOffsetPage"]);return(0,o.jsx)(s.S,(0,a.Z)((0,i.Z)({},d),{lazyLoadOffsetPage:n}))}},86671:function(e,t,n){"use strict";n.d(t,{i:function(){return S}});var i,a=n(47842),r=n(70865),o=n(26297),s=n(66383),l=n(52322),d=n(2784),c=n(45954),u=n(5830),p=n(72677),v=n(50020),_=n(18687),f=n(63896),h=n.n(f);function m(e){var t=e.total,n=e.current,i=e.className,r=(0,_.D9)(n),o=(0,s.Z)((0,d.useState)(0),2),c=o[0],u=o[1],v=(0,p.d)("flex items-center justify-center",i);if((0,d.useEffect)(function(){if(n>r)(n===t-1||3!==c)&&u(function(e){return e+1});else if(n<r){if(0!==n&&1===c)return;u(function(e){return e-1})}},[n]),t<5)return(0,l.jsx)("div",{className:v,children:Array.from({length:t}).map(function(e,t){var i;return(0,l.jsx)("span",{className:(0,p.d)("bg-neutral-400 ml-2",(i={},(0,a.Z)(i,"rounded-large ".concat(h()["SliderPagination__dot--current"]),t===n),(0,a.Z)(i,"rounded-circle ".concat(h()["SliderPagination__dot--medium"]),t!==n),i))},"carousel-indicator-".concat(t))})});var f=function(e){var t;return t={},(0,a.Z)(t,(0,p.d)("rounded-large",h()["SliderPagination__dot--current"]),e===c),(0,a.Z)(t,(0,p.d)("rounded-circle",h()["SliderPagination__dot--medium"]),e!==c&&[1,2,3].includes(e)),(0,a.Z)(t,(0,p.d)("rounded-circle",h()["SliderPagination__dot--small"]),e!==c&&[0,4].includes(e)),t};return(0,l.jsx)("div",{className:v,children:Array.from({length:5}).map(function(e,t){return(0,l.jsx)("span",{className:(0,p.d)("bg-neutral-400 ml-2",f(t))},"carousel-indicator-".concat(t))})})}var g=n(21209),x=n.n(g),b="absolute hidden lg:flex items-center justify-center rounded-circle cursor-pointer z-5 shadow-fab-button",y=(i={},(0,a.Z)(i,u._.BANNER,{hasNavigation:!0,disableNavigationOnDesktop:!1,navigationButtonClassName:{prev:(0,p.d)("hidden lg:flex justify-center items-center bg-neutral-000 rounded-circle absolute cursor-pointer z-5",x().Slider__bannerButton,x()["Slider__bannerButton--prev"]),next:(0,p.d)("hidden lg:flex justify-center items-center bg-neutral-000 rounded-circle absolute cursor-pointer z-5",x().Slider__bannerButton,x()["Slider__bannerButton--next"]),disabled:"hidden"},navigationIconSize:20,hasThumbnail:!1}),(0,a.Z)(i,u._.CAROUSEL,{hasNavigation:!0,disableNavigationOnDesktop:!1,navigationButtonClassName:{prev:(0,p.d)("hidden lg:flex justify-center items-center bg-neutral-000 absolute right-0 cursor-pointer z-5 shadow-fab-button",x().Slider__carouselButton,x()["Slider__carouselButton--prev"]),next:(0,p.d)("hidden lg:flex justify-center items-center bg-neutral-000 absolute left-0 cursor-pointer z-5 shadow-fab-button",x().Slider__carouselButton,x()["Slider__carouselButton--next"]),disabled:"lg:hidden"},navigationIconSize:40,hasThumbnail:!1}),(0,a.Z)(i,u._.GALLERY,{hasNavigation:!0,disableNavigationOnDesktop:!1,navigationButtonClassName:{prev:(0,p.d)(b,x().Slider__galleryButton,x()["Slider__galleryButton--prev"]),next:(0,p.d)(b,x().Slider__galleryButton,x()["Slider__galleryButton--next"]),disabled:"lg:hidden"},navigationIconSize:28,hasThumbnail:!1}),(0,a.Z)(i,u._.MAIN_CATEGORIES,{hasNavigation:!0,disableNavigationOnDesktop:!1,navigationButtonClassName:{prev:(0,p.d)("absolute hidden lg:flex items-center justify-center rounded-circle cursor-pointer z-5 border-complete bg-white fill-high-emphasis h-[40px] w-[40px] top-1/2",x().Slider__mainCategoriesButton,x()["Slider__mainCategoriesButton--prev"]),next:(0,p.d)("absolute hidden lg:flex items-center justify-center rounded-circle cursor-pointer z-5 border-complete bg-white fill-high-emphasis h-[40px] w-[40px] top-1/2",x().Slider__mainCategoriesButton,x()["Slider__mainCategoriesButton--next"]),disabled:"lg:hidden"},navigationIconSize:28,hasThumbnail:!1}),(0,a.Z)(i,u._.GALLERY_FULL_SIZE,{hasNavigation:!0,disableNavigationOnDesktop:!1,navigationButtonClassName:{prev:(0,p.d)("absolute hidden lg:flex items-center justify-center rounded-circle cursor-pointer z-5 shadow-fab-button",x().Slider__galleryButtonFullScreen,x()["Slider__galleryButtonFullScreen--prev"]),next:(0,p.d)("absolute hidden lg:flex items-center justify-center rounded-circle cursor-pointer z-5 shadow-fab-button",x().Slider__galleryButtonFullScreen,x()["Slider__galleryButtonFullScreen--next"]),disabled:"lg:hidden"},navigationIconSize:28,hasThumbnail:!1}),(0,a.Z)(i,u._.GALLERY_WITH_THUMBNAIL,{hasNavigation:!0,disableNavigationOnDesktop:!1,navigationButtonClassName:{prev:(0,p.d)("rounded-circle absolute flex items-center justify-center cursor-pointer z-5 shadow-fab-button",x().Slider__galleryWithThumbnailButton,x()["Slider__galleryWithThumbnailButton--prev"]),next:(0,p.d)("rounded-circle absolute flex items-center justify-center cursor-pointer z-5 shadow-fab-button",x().Slider__galleryWithThumbnailButton,x()["Slider__galleryWithThumbnailButton--next"]),disabled:"hidden"},navigationIconSize:28,hasThumbnail:!0}),i),S=(0,d.forwardRef)(function(e,t){var n=e.mode,i=void 0===n?u._.CAROUSEL:n,a=e.slides,_=e.slideClassName,f=e.onSlideChange,h=e.autoplay,g=e.loop,b=e.centeredSlides,S=e.freeMode,w=e.disableFreeModeOnDesktop,N=e.mousewheel,j=e.hasNavigation,C=e.disableNavigationOnDesktop,I=e.navigationButtonClassName,B=e.slideStyle,k=e.swiperStyle,T=e.height,O=e.width,E=e.autoHeight,L=e.breakpoints,A=e.slidesPerView,P=e.spaceBetween,D=e.slidesOffsetAfter,R=e.slidesOffsetBefore,F=e.paginationPosition,Z=e.navigationButtonSize,z=e.navigationButtonSpace,M=e.navigationIconColor,G=e.navigationIconSize,W=e.direction,U=e.allowTouchMove,V=e.sliderContainerClassName,q=e.className,H=e.hasPagination,Y=e.paginationClassName,K=(0,o.Z)(e,["mode","slides","slideClassName","onSlideChange","autoplay","loop","centeredSlides","freeMode","disableFreeModeOnDesktop","mousewheel","hasNavigation","disableNavigationOnDesktop","navigationButtonClassName","slideStyle","swiperStyle","height","width","autoHeight","breakpoints","slidesPerView","spaceBetween","slidesOffsetAfter","slidesOffsetBefore","paginationPosition","navigationButtonSize","navigationButtonSpace","navigationIconColor","navigationIconSize","direction","allowTouchMove","sliderContainerClassName","className","hasPagination","paginationClassName"]),X=(0,s.Z)((0,d.useState)(0),2),Q=X[0],J=X[1],$=(0,d.useMemo)(function(){return H||i===u._.BANNER?(0,l.jsx)("div",{className:(0,p.d)("absolute z-2",x().Slider__bannerPagination,Y),children:(0,l.jsx)(m,{current:Q,total:null==a?void 0:a.length})}):null},[a,Q,H,i]);return(0,l.jsxs)("div",{className:(0,p.d)("relative",q),children:[(0,l.jsx)(c.iR,(0,r.Z)({ref:t,slides:a,slideClassName:_,className:V,onSlideChange:function(e){J(null==e?void 0:e.activeIndex),null==f||f(e)},autoplay:h,loop:g,centeredSlides:b,freeMode:S,disableFreeModeOnDesktop:w,mousewheel:N,hasNavigation:(0,v.k)(j)?y[i].hasNavigation:j,disableNavigationOnDesktop:C||y[i].disableNavigationOnDesktop,navigationButtonClassName:I||y[i].navigationButtonClassName,hasThumbnails:y[i].hasThumbnail,slideStyle:B,swiperStyle:k,height:T,width:O,autoHeight:E,slidesPerView:void 0===A?1:A,spaceBetween:void 0===P?0:P,slidesOffsetAfter:void 0===D?0:D,slidesOffsetBefore:void 0===R?0:R,paginationPosition:void 0===F?"bottom":F,navigationButtonSize:Z,navigationButtonSpace:z,navigationIconColor:void 0===M?"high-emphasis":M,navigationIconSize:G||y[i].navigationIconSize,direction:void 0===W?"horizontal":W,allowTouchMove:void 0===U||U,breakpoints:L},K)),$]})})},15857:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var i=n(16991),a=n(93008),r=n(64177);function o(e){var t,n,o,s,l,d,c,u,p,v,_=e.columnWidth,f=void 0===_?a.TO[a.nL.LIST]():_,h=e.container,m=void 0===h?i.p.XL4:h,g=e.withFilter,x=e.wrappedInModal,b=(0,r.C)(),y=b.windowWidth,S=b.isDesktop,w=y>=i.j.LG;return n=(t={columnWidth:f,container:i.j[m],isDesktop:S,windowWidth:y,withFilter:(void 0===g||g)&&w,wrappedInModal:void 0!==x&&x}).columnWidth,o=t.container,s=t.windowWidth,l=t.wrappedInModal,d=t.isDesktop,c=t.withFilter,p=(u=l?d?800:1*s:s)>=o?o:u-40,(v=Math.floor((c?p-320:p)/n))>0?v:1}},73092:function(e,t,n){"use strict";n.d(t,{T:function(){return d}});var i=n(52322),a=n(98780),r=n(31909),o=n(72677),s=n(96092),l=n.n(s);function d(){return(0,i.jsxs)("div",{className:"w-full flex flex-col items-center justify-between px-5 pt-5 pb-3",children:[(0,i.jsx)(r.E,{src:"/statics/img/svg/plp/not-found.svg",className:(0,o.d)("h-auto mb-5",l().NotFound__image),alt:"نتیجه‌ای یافت نشد"}),(0,i.jsxs)("div",{className:(0,o.d)("flex flex-col rounded-medium py-4 border-complete-200 px-5 w-full",l().NotFound__text),children:[(0,i.jsxs)("div",{className:"text-subtitle-strong font-bold text-neutral-700 flex items-center",children:[(0,i.jsx)(a.J,{icon:"infoFill",className:"ml-4",size:20,color:"warning"}),"کالایی با این مشخصات پیدا نکردیم"]}),(0,i.jsx)("div",{className:"text-body-2 text-neutral-500 mr-9",children:"پیشنهاد می‌کنیم فیلترها را تغییر دهید"})]})]})}},5830:function(e,t,n){"use strict";n.d(t,{_:function(){return i}});var i={BANNER:"BANNER",MAIN_CATEGORIES:"MAIN_CATEGORIES",CAROUSEL:"CAROUSEL",GALLERY:"GALLERY",GALLERY_WITH_THUMBNAIL:"GALLERY_WITH_THUMBNAIL",GALLERY_FULL_SIZE:"GALLERY_FULL_SIZE"}},55201:function(e,t,n){"use strict";n.d(t,{q:function(){return s}});var i=n(66383),a=n(8108),r=n(43287),o=n(77655),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e||{},s=n.widgetId,l=n.campaign,d=n.titles,c=n.widgetTitleFa,u=n.widgetType,p=n.productId,v=n.productIds,_=n.brandIds,f=n.categoryIds,h=n.title,m=n.index,g=n.categoryId,x=n.bannerId,b=n.brandId,y=n.type,S={titles:d,widget_title_fa:c,product_id:p,product_ids:v,brand_ids:_,category_ids:f,index:m,widget_type:u,title:h,banner_id:x,page_type:(0,r.C)(),category_id:g,brand_id:b,type:y},w={version:2,widget_id:s,campaign:{id:null==l?void 0:l.id,type:null==l?void 0:l.type,widget_id:null==l?void 0:l.widgetId}},N=!0,j=!1,C=void 0;try{for(var I,B=Object.entries(S)[Symbol.iterator]();!(N=(I=B.next()).done);N=!0){var k=(0,i.Z)(I.value,2),T=k[0],O=k[1];void 0!==O&&(w[T]=O)}}catch(E){j=!0,C=E}finally{try{N||null==B.return||B.return()}finally{if(j)throw C}}var L=t?o.F.CAMPAIGN_WIDGET_VIEW:o.F.CAMPAIGN_WIDGET_CLICK;(0,a.N)({name:L,body:w,target:{}})}},41701:function(e,t,n){"use strict";function i(e){var t=e.component,n=e.getAPIMethods,i=e.layoutProps,a=e.isPrivate,r=e.noDefaultLoader,o=e.pageActivatorFeature,s=e.redirectIfLogin,l=e.afterLogin,d=e.disableSSR,c=e.dataProps;return t.getAPIMethods=n,t.layoutProps=i,t.isPrivate=a,t.noDefaultLoader=r,t.pageActivatorFeature=o,t.redirectIfLogin=s,t.afterLogin=l,t.disableSSR=d,t.dataProps=c,t}n.d(t,{D:function(){return i}})},13479:function(e){e.exports={coupon:"styles_coupon__D_H_g",expiredBadge:"styles_expiredBadge__cv_vT",stockOutBadge:"styles_stockOutBadge__PvgyB"}},54677:function(e){e.exports={tabsImage:"styles_tabsImage__9O9lR","tabsImage--fadeOut":"styles_tabsImage--fadeOut__90GfG","wrapper--fadeOut":"styles_wrapper--fadeOut__CEE9V",wrapperTabsFadeOut:"styles_wrapperTabsFadeOut__JTgnj"}},60424:function(e){e.exports={scrollButton:"styles_scrollButton__QWW7p",scrollButtonIcon:"styles_scrollButtonIcon__w0Ndq"}},5240:function(e){e.exports={button:"styles_button__s5mAF","button--filled":"styles_button--filled___kZuM",disabled:"styles_disabled__OM0o1","btn--text":"styles_btn--text__UQamE"}},63896:function(e){e.exports={"SliderPagination__dot--small":"styles_SliderPagination__dot--small__MrVr6","SliderPagination__dot--medium":"styles_SliderPagination__dot--medium__MBCjV","SliderPagination__dot--current":"styles_SliderPagination__dot--current__kJ25_"}},21209:function(e){e.exports={Slider__carouselButton:"styles_Slider__carouselButton__F2ifj","Slider__carouselButton--prev":"styles_Slider__carouselButton--prev__xquUG","Slider__carouselButton--next":"styles_Slider__carouselButton--next__RQQfO",Slider__galleryButton:"styles_Slider__galleryButton__hYvzz","Slider__galleryButton--prev":"styles_Slider__galleryButton--prev__nLGBK","Slider__galleryButton--next":"styles_Slider__galleryButton--next__jx62C",Slider__mainCategoriesButton:"styles_Slider__mainCategoriesButton__rGkxt","Slider__mainCategoriesButton--prev":"styles_Slider__mainCategoriesButton--prev__C6gZp","Slider__mainCategoriesButton--next":"styles_Slider__mainCategoriesButton--next__ZFF1M",Slider__galleryButtonFullScreen:"styles_Slider__galleryButtonFullScreen__8Kfqi","Slider__galleryButtonFullScreen--prev":"styles_Slider__galleryButtonFullScreen--prev__TYiSh","Slider__galleryButtonFullScreen--next":"styles_Slider__galleryButtonFullScreen--next__lhPKp",Slider__galleryWithThumbnailButton:"styles_Slider__galleryWithThumbnailButton__aWpdi","Slider__galleryWithThumbnailButton--prev":"styles_Slider__galleryWithThumbnailButton--prev__Vt_GB","Slider__galleryWithThumbnailButton--next":"styles_Slider__galleryWithThumbnailButton--next__Ul0pR",Slider__bannerButton:"styles_Slider__bannerButton__aBz_b","Slider__bannerButton--prev":"styles_Slider__bannerButton--prev__EUcgg","Slider__bannerButton--next":"styles_Slider__bannerButton--next__uwu3I",Slider__bannerPagination:"styles_Slider__bannerPagination__S7UR2"}},96092:function(e){e.exports={NotFound__image:"styles_NotFound__image__LRvmi",NotFound__text:"styles_NotFound__text__MwRSJ"}}},function(e){e.O(0,[3209,5673,9774,2888,179],function(){return e(e.s=86741)}),_N_E=e.O()}]);
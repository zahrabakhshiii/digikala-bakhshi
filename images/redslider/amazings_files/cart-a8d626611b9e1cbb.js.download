(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[962],{15381:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout/cart",function(){return r(80956)}])},45295:function(e,t,r){"use strict";r.d(t,{G:function(){return c}});var i=r(64949),n=r(79514),a=r(35825),s=r(1324),l=r(86334),o="".concat((0,l.o)(),"/cart/"),c=(0,s.q)({url:o,transformer:function(e){var t,r=e.data||{},s=r.fresh,l=r.cart,o=r.cart_items,c=r.digiplus,d=r.digipay_credit_offer,u=r.mergeable_cart_item_images,m=r.pending_orders,p=r.recommendation,x=r.new_recommendation,g=r.bigdata_tracker_data,v=r.shipment_metadata;return{cart:(0,i.D)({cartData:l,cartItems:o,digiplus:c,digipayCreditOffer:d,mergeableCartItemImages:u,pendingOrders:m}),freshCartItems:(null==s?void 0:null===(t=s.cart_items)||void 0===t?void 0:t.map(function(e){return(0,n.l)({data:e})}))||[],recommendation:(0,a.v)({data:p}),newRecommendation:(0,a.v)({data:x}),bigDataTrackerData:g,hint:null==v?void 0:v.hint,title:null==v?void 0:v.title,description:null==v?void 0:v.description,descriptionTitle:null==v?void 0:v.description_title}}})},70450:function(e,t,r){"use strict";r.d(t,{m:function(){return m}});var i=r(52322),n=r(43997),a=r(51244),s=r(72610),l=r(21211),o=r(88413),c=r(72873),d=r(6013),u=r(41435);function m(e){var t=e.bigDataTrackerData,r=e.className,m=(0,n.v9)(d.p.recentlyViewedProductIds)||[],p=(0,c.V)({apiMethod:a.q,apiData:{productIds:m},isReady:!(0,u.x)(m)}),x=p.data,g=x.title,v=x.products,h=p.pending;return(0,u.x)(m)?null:h?(0,i.jsx)(s.g,{}):(0,i.jsx)(l.O,{products:v,productsTitle:g,bigDataCarouselName:o.qV,bigDataTrackerData:t,className:r})}},80956:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return eY}});var i=r(52322),n=r(42067),a=r(45756),s=r(43242),l=r(72873),o=r(51275),c=r(41701),d=r(21497),u=r(22848),m=r(41435),p=r(1324),x=(0,p.q)({url:"cart/tabs/",transformer:function(e){var t,r,i=e.data;return{cartCount:(null==i?void 0:null===(t=i.tabs)||void 0===t?void 0:t.cart)||0,nextCartCount:(null==i?void 0:null===(r=i.tabs)||void 0===r?void 0:r.next_cart)||0}},isPageGetRequest:!0}),g=r(66383),v=r(50930),h=r(2784),f=r(25237),j=r.n(f),I=r(57931),b=r(16648),C=r(98780),N=r(50603),_=r(97969),y=r(99007),P=r(54495),T=r(66158),D=r(47853),O=r(13084),R=r(571),k=r(54296),A=r(80085),S=r(55245),E=r(72455),L=r(21211),w=r(19347),B=r(64665),F=r(88413),M=r(57394),z=r(53828),G=r(80803),U=r(87049),V=r(3417),J=r(80786),q=r(6013),H=r(42306),Z=r(85430),X=r(51282),K=r(40245),Y=r(52216),Q=r(53548),W=r(43997),$=r(92272),ee=r(10277);function et(e){var t=e.cartItemVariantPropertiesHasSimilarVariants,r=e.cartItemProductId,n=e.cartItemProductTitleFa,a=e.isOutOfStock;return(e.cartItemProductUrl,a)?t?(0,i.jsx)(i.Fragment,{}):(0,i.jsx)(I.z,{color:"primary",mode:"outlined",onClick:function(){return(0,ee.Z)({id:r,title:n})},children:"مشاهده کالاهای مشابه"}):null}var er=r(11559),ei=r(72677),en=r(1458),ea=r(47842),es=r(31909),el=r(37556),eo=r.n(el);function ec(e){var t=e.image,r=e.imgAlt,n=e.retrieveProduct,a=e.progressStart,s=e.className;return(0,i.jsxs)("div",{className:(0,ei.d)("flex flex-col justify-center items-center",eo().RemovingItemBox,s),children:[(0,i.jsx)(es.E,{image:t,alt:r,width:36,height:36}),(0,i.jsx)("p",{className:"text-subtitle-strong text-neutral-800 my-3",children:"کالای موردنظر شما حذف شد"}),(0,i.jsx)("div",{className:(0,ei.d)("bg-neutral-200 rounded",eo().RemovingItemBox__progressBarContainer),children:(0,i.jsx)("div",{className:(0,ei.d)("bg-neutral-400 rounded",(0,ea.Z)({},eo().RemovingItemBox__progressBarItem,a))})}),(0,i.jsxs)(I.z,{color:"white",size:"large",className:"focus:outline-none font-bold",onClick:n,children:["بازگرداندن کالا",(0,i.jsx)(C.J,{icon:"undo",size:24,className:"text-neutral-600 mr-2"})]})]})}function ed(e){var t,r=e.className,n=e.handleReloadData,a=e.isSaveForLater,s=e.cartItemData,l=e.handleSelectGiftCard,c=(0,W.v9)(q.p.userInfo),d=s||{},u=d.cartItemId,m=d.cartItemProduct,p=d.cartItemVariant,x=d.cartItemEGiftProperties,v={giftCardId:u,giftCardReceiverPhone:null==x?void 0:x.eGiftPropertiesReceiverPhoneNumber,giftCardDescription:null==x?void 0:x.eGiftPropertiesMessage,giftCardDelivery:null==x?void 0:x.eGiftPropertiesDeliveryDate},f=p||{},j=f.variantProperties,b=f.variantStatus,C=f.variantId,N=(0,W.v9)(q.p.digiplusIsActivated),_=(0,o.pL)(),y=!!(null==_?void 0:null===(t=_.cartDigiplusTemporary)||void 0===t?void 0:t.cartDigiplusTemporaryPlanPrice)||N,P=(0,M.J)({action:V.cD}),T=P.request,D=P.pending,O=(0,M.J)({action:V.on}),R=O.request,k=O.pending,A=(0,M.J)({action:V.lN,isPrivate:!0}),S=A.request,E=A.pending,L=(0,g.Z)((0,h.useState)(!1),2),w=L[0],F=L[1],z=(0,h.useRef)(null),G=function(e){var t=e.callback;F(!0),z.current=setTimeout(function(){t(),F(!1)},3e3)},U=(0,er.E)({apiMethod:en.O}),J=U.request,Z=U.pending;return(0,i.jsxs)("div",{className:(0,ei.d)("relative",r),children:[(0,i.jsx)("div",{className:(0,ei.d)("absolute top-0 left-0 bg-neutral-000 w-full h-full flex items-center justify-center",{"z-1":w,"pointer-events-none opacity-0":!w}),children:(0,i.jsx)(ec,{imgAlt:null==m?void 0:m.productTitle,image:null==m?void 0:m.productImage,progressStart:w,className:"py-4",retrieveProduct:function(){clearTimeout(z.current),F(!1)}})}),(0,i.jsx)($.i,{hidePlusBox:!y,cartItem:s,isSaveForLater:a,isOnCheckout:!0,actionsSlot:(0,i.jsxs)("div",{className:"flex lg:justify-start mt-3",children:[!!a&&(0,i.jsx)(I.z,{mode:"neutralOutlined",prependIcon:"delete",iconColor:"low-emphasis",className:"ml-6",isLoading:Z||k,onClick:a?function(){return G({callback:function(){J({cartItemIds:[u]}).then(function(){return null==n?void 0:n({removedCartItemVariantId:C})})}})}:function(){return G({callback:function(){return R({getFullData:!0,cartItemId:u,productVariantId:C,ignoreQuantity:!0})}})},CROId:"cart-delete-item-central",children:(0,i.jsx)("p",{className:"text-button-2 text-neutral-500",children:"حذف"})}),"marketable"===b&&a&&(0,i.jsx)(I.z,{mode:"outlined",prependIcon:"moveToCart",onClick:function(){T({productVariantId:C,removeFromNextCart:!0}).then(function(){return null==n?void 0:n({removedCartItemVariantId:C})})},isLoading:D,children:"افزودن به سبد"}),(0,i.jsx)(et,{isOutOfStock:"out_of_stock"===b,cartItemVariantPropertiesHasSimilarVariants:j.variantPropertiesHasSimilarVariants,cartItemProductId:null==m?void 0:m.productId,cartItemProductTitleFa:null==m?void 0:m.productTitle,cartItemProductUrl:null==m?void 0:m.productUrl}),(0,i.jsxs)("div",{className:"flex mr-auto",children:[(null==x?void 0:x.eGiftPropertiesExist)&&(!(0,H.d)(B.X.RECEIVER_TOGGLE_IN_GIFT_CARD_PDP)||(null==x?void 0:x.eGiftPropertiesReceiverPhoneNumber)!==(null==c?void 0:c.userPhone))&&(0,i.jsx)(I.z,{removePadding:!0,color:"secondary",mode:"text",className:"ml-4",iconColor:"secondary",onClick:function(){l(v)},CROId:"cart-edit-gift-card",children:"ویرایش"}),"marketable"===b&&!a&&(0,i.jsx)(I.z,{removePadding:!0,color:"secondary",mode:"text",className:"mr-auto",appendIcon:"chevronLeft",iconColor:"secondary",onClick:function(){return S({cartItemId:u,getFullData:!0}).then(function(){return null==n?void 0:n()})},isLoading:E,CROId:"cart-next-purchase-cta",children:"انتقال به خرید بعدی"})]})]})})]})}var eu=r(90290),em=r(71825),ep=r(70450),ex=r(45295),eg=r(73437),ev=r(97411),eh=r(26442);function ef(e){var t=e.className,r=e.cartMergeableCartItemImages,n=(0,ei.d)("p-4 mb-4 lg:m-5 lg:rounded-medium lg:border-complete-200",t);return(0,i.jsxs)("div",{className:n,children:[(0,i.jsxs)("div",{className:"flex justify-start items-center shrink-0",children:[(0,i.jsx)(C.J,{icon:"addItem",size:24,color:"secondary"}),(0,i.jsx)("p",{className:"text-subtitle-strong mx-2 text-neutral-800",children:"دریافت با سفارش قبلی"})]}),(0,i.jsx)("p",{className:"text-neutral-600 text-body-2",children:"می‌توانید این کالاها را همراه با سفارش قبلی خود دریافت کنید و هزینه اضافی برای ارسال نپردازید"}),(0,i.jsxs)("div",{className:"lg:flex justify-between items-center",children:[(0,i.jsx)(ev.l,{items:null==r?void 0:r.map(function(e){return(0,i.jsx)(es.E,{src:e,alt:"شیپمنت",width:38,height:38,className:"m-1"})}),className:"my-3 ml-2"}),(0,i.jsx)(I.z,{className:"w-full lg:w-unset",color:"primary",size:"medium",shape:"filled",CROId:"cart-receive-with-previous-order",to:eh.Mm,children:"دریافت با سفارش قبلی"})]})]})}var ej=r(5632),eI=r(49646),eb=r(8158);function eC(e){var t=e.cartItems,r=void 0===t?[]:t,n=(0,ej.useRouter)();return(0,H.d)(B.X.FRESH_TOUCHPOINTS)&&Array.isArray(r)&&0!==r.length?(0,i.jsx)("div",{className:"p-3 lg:p-0 mb-3",children:(0,i.jsxs)("div",{className:"px-3 pt-4 pb-3 bg-white rounded-md border-complete-200",children:[(0,i.jsxs)("div",{className:"text-subtitle-strong text-neutral-700 flex items-center mb-2",children:[(0,i.jsx)(C.J,{icon:"cube-badge-fresh",color:"var(--color-fresh-500)",className:"ml-1"}),"سبد خرید سوپرمارکتی شما اینجاست!"]}),(0,i.jsxs)("div",{className:"flex items-center justify-between lg:justify-end",children:[(0,i.jsx)(eI.n,{cartItems:r,className:"ml-4"}),(0,i.jsx)(I.z,{tag:"a",color:"fresh",shape:"outlined",onClick:function(){(0,eb.O)(),n.push(eh.E0.CART)},children:"سبد سوپرمارکتی"})]})]})}):null}var eN=r(74404),e_=j()(function(){return r.e(673).then(r.bind(r,30673)).then(function(e){return e.DigiplusBenefitCardTemporary})},{loadableGenerated:{webpack:function(){return[30673]}},ssr:!1}),ey=j()(function(){return r.e(4007).then(r.bind(r,74007)).then(function(e){return e.DigiplusBlackFridayBenefitCardTemporary})},{loadableGenerated:{webpack:function(){return[74007]}},ssr:!1}),eP=j()(function(){return r.e(5421).then(r.bind(r,75421)).then(function(e){return e.DigiplusCartDeliveryPackage})},{loadableGenerated:{webpack:function(){return[75421]}},ssr:!1}),eT=j()(function(){return r.e(7344).then(r.bind(r,4365)).then(function(e){return e.DigiplusFlatShippingBox})},{loadableGenerated:{webpack:function(){return[4365]}},ssr:!1}),eD=j()(function(){return Promise.resolve().then(r.bind(r,30979)).then(function(e){return e.DigiplusFreeShippingProgress})},{loadableGenerated:{webpack:function(){return[30979]}},ssr:!1});function eO(e){var t,r,n,s,o,c=e.isLoading,u=e.reloadTabs,p=e.cart,x=(0,z.I)(),f=(0,g.Z)((0,h.useState)({}),2),j=f[0],W=f[1],$=(0,g.Z)((0,h.useState)(!1),2),ee=$[0],et=$[1],er=(0,G.d)(),ei=er.isOpen,en=er.onOpen,ea=er.onClose,es=(0,U.v)(J.b.isPendingInit),el=(0,l.V)({disabled:es,apiMethod:ex.G,onSuccess:function(){x((0,V.Wz)(ej))}}),eo=el.data,ec=eo.recommendation,ev=eo.newRecommendation,eh=eo.bigDataTrackerData,ej=eo.cart,eI=eo.freshCartItems,eb=eo.hint,eO=eo.description,eR=eo.title,ek=eo.descriptionTitle,eA=el.reload,eS=el.pending,eE=ec||{},eL=eE.recommendationTitle,ew=eE.recommendationProducts,eB=ev||{},eF=eB.recommendationTitle,eM=eB.recommendationProducts,ez=(null==p?void 0:p.cartItemDigipay)||{},eG=ez.digipayCreditAmount,eU=ez.digipayPrePaymentAmount,eV=ez.digipayInstallmentCount,eJ=ez.digipayInstallmentAmount,eq=ez.digipayRedirectUrl,eH=function(){et(!0)},eZ=function(e){W(e),eH()},eX=(null==p?void 0:p.cartDigiplus)||{},eK=eX.digiplusServices,eY=eX.digiplusJetDeliveryEligibleItems,eQ=eX.digiplusFreshProgressBar,eW=eX.hasPlusFreeShipping,e$=(0,Z.F)({digipayCreditAmount:eG,digipayPrePaymentAmount:eU,digipayInstallmentCount:eV,digipayInstallmentAmount:eJ}),e0=(0,v.Z)(eK||[]),e2=[];e0.length>0&&!(0,m.x)(eY)&&(e2=eY.map(function(e){return null==e?void 0:e.digiplusJetDeliveryEligibleItemImage}));var e4=(0,U.v)(q.p.isLoggedIn),e1=(0,M.J)({action:V.MY,onSuccess:u}),e3=e1.request,e7=e1.pending,e5=(0,M.J)({action:V.jp,successCallback:u,isPrivate:!0}).request,e8=c||e7;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(eu.b,{aside:(0,m.x)(null==p?void 0:p.cartItems)?!e4&&(0,i.jsx)(k.n,{className:"mx-10 lg:mx-0 hidden lg:block",title:"ورود به حساب کاربری",detail:"برای مشاهده محصولاتی که پیش‌تر به سبد خرید خود اضافه کرده‌اید وارد شوید.",rightIcon:"registerationSignIn",rightIconColor:"warning",href:(0,Q.U)({toLoginRegisterRoute:!0})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(em.O,{isTotalCartAmountBold:!0,insurancePrice:null==p?void 0:p.cartInsurance.cartInsurancePrice,digiclubPoint:null==p?void 0:p.cartDigiclub.cartDigiclubPoint,totalCartAmount:null==p?void 0:p.cartPayablePrice,price:null==p?void 0:p.cartPrice,itemCount:null==p?void 0:p.cartItemsCount,discount:null==p?void 0:p.cartDiscount,discountPercent:(0,K.O)({discount:null==p?void 0:p.cartDiscount,price:null==p?void 0:p.cartPrice}),isCartPage:!0,plusCashBack:null==p?void 0:p.cartCashBack.cartCashBackDigiplusAmount,cashBack:null==p?void 0:p.cartCashBack.cartCashBackAmount,plusTemporaryPlanPrice:null==p?void 0:null===(t=p.cartDigiplusTemporary)||void 0===t?void 0:t.cartDigiplusTemporaryPlanPrice,plusDeliveryPackageTemporaryPlanPrice:null==p?void 0:null===(r=p.cartDigiplusDeliveryPackage)||void 0===r?void 0:null===(n=r.deliveryPackageSelectedPackage)||void 0===n?void 0:null===(s=n.selectedPackagePrice)||void 0===s?void 0:s.payablePrice,"data-cro-id":a.h.CART_CONTINUE_SHOPPING,nextStepButton:(0,i.jsx)(eN.S,{}),digiplusFreshProgressBar:eQ}),(0,i.jsx)("p",{className:"text-neutral-500 text-caption my-3 hidden lg:block",children:"هزینه این سفارش هنوز پرداخت نشده‌ و در صورت اتمام موجودی، کالاها از سبد حذف می‌شوند"}),(0,i.jsxs)("div",{className:"bg-neutral-100 lg:bg-neutral-000 flex flex-col px-5 lg:px-0",children:[(0,H.d)(B.X.PLUS_BLACK_FRIDAY)&&(0,i.jsx)(ey,{}),(null==p?void 0:null===(o=p.cartDigiplusDeliveryPackage)||void 0===o?void 0:o.deliveryPackageTitle)&&(0,i.jsx)(eP,{data:null==p?void 0:p.cartDigiplusDeliveryPackage,onReload:eA,isPendingReload:eS}),(null==p?void 0:p.cartBnplTouchPointIsActive)&&(0,i.jsx)(A.Z,{}),!(0,m.x)(e$)&&(0,i.jsx)(T.c,{url:eq,className:"mt-3 border-complete-200",type:"digiPay",CROId:a.h.CART_DIGIPAY_CTA,title:"خرید این کالا با تسهیلات دیجی‌پی",benefitsList:e$}),(0,H.d)(B.X.FLAT_SHIPPING)?eW&&(0,i.jsx)(eT,{className:"mt-3"}):(0,i.jsx)(R.F,{className:"mt-3"})]})]}),section:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eC,{cartItems:void 0===eI?[]:eI}),!(0,H.d)(B.X.PLUS_BLACK_FRIDAY)&&(0,i.jsx)(e_,{benefitsList:e0,picturesList:e2,CROIdAddButton:a.h.CART_PLUS_ADD_TO_BASKET}),eb&&(0,i.jsxs)("div",{className:"flex items-center rounded-md p-3 mb-4-lg lg:mx-0 mx-5 mt-4 mb-3 border-complete-200 bg-neutral-100 leading-0",children:[(0,i.jsx)(C.J,{icon:"deliveryExpress",color:"neutral-hint"}),(0,i.jsxs)("div",{className:"flex flex-col mr-2",children:[(0,i.jsx)("span",{className:"text-neutral-700 text-body2-strong leading-0",children:eR}),(0,i.jsx)("span",{className:"text-icon-neutral-hint text-caption !leading-6",children:eb})]}),(0,i.jsx)(I.z,{removePadding:!0,color:"secondary",mode:"text",className:"mr-auto",appendIcon:"chevronLeft",appendIconClassName:"!mr-0",iconColor:"secondary",onClick:en,children:"دیدن شرایط"})]}),(0,i.jsx)(b.R,{className:"p-0",children:(0,m.x)(null==p?void 0:p.cartItems)?!e8&&(0,i.jsx)(D.Q,{pendingOrders:null==ej?void 0:ej.cartPendingOrders,isCartPage:!0}):(0,i.jsxs)("div",{className:"overflow-hidden",children:[(0,i.jsx)(P.L,{className:"px-6",description:(null==p?void 0:p.cartItemsCount)>0&&"".concat((0,Y.U)((null==p?void 0:p.cartItemsCount)||"")," کالا"),title:(0,d.$)()?"کالا‌های قابل پرداخت با چک":"سبد خرید شما",leftNode:(0,i.jsxs)(y.gi,{children:[(0,i.jsx)(y.Ej,{"data-cro-id":a.h.CART_MORE_INFOS,children:(0,i.jsx)(C.J,{icon:"moreVert",color:"low-emphasis",size:24})}),(0,i.jsxs)(y.bC,{children:[(0,i.jsx)(y.z,{onClick:function(){(0,X.Ep)(X.EV,{title:"ذخیره در لیست خرید بعدی",description:"آیا از انتقال ".concat((0,Y.U)(p.cartItemsCount||""),"  کالا به لیست خرید بعدی اطمینان دارید؟ "),acceptActionText:"بله",rejectActionText:"انصراف",onConfirm:function(){return e5({getFullData:!0})}})},"data-cro-id":a.h.CART_SAVE_ALL_NEXT_PURCHASE,children:(0,i.jsx)(P.L,{icon:(0,i.jsx)(C.J,{icon:"saveForLater",size:24}),title:"انتقال همه به خرید بعدی",titleClassName:"text-body1-strong text-neutral-700",titleContainerClassName:"xs:py-0"})}),(0,i.jsx)(y.z,{onClick:function(){(0,X.Ep)(X.EV,{title:"حذف همه کالاها از سبد",description:"همه کالاها را از سبد حذف می‌کنید؟",acceptActionText:"حذف همه",rejectActionText:"بازگشت",onConfirm:e3})},"data-cro-id":a.h.CART_DELETE_ITEMS_ALL,children:(0,i.jsx)(P.L,{title:"حذف همه",icon:(0,i.jsx)(C.J,{icon:"trash",size:24}),titleClassName:"text-body1-strong text-neutral-700",titleContainerClassName:"xs:py-0"})})]})]})}),!(0,m.x)(null==p?void 0:p.cartMergeableCartItemImages)&&(0,i.jsx)(ef,{cartMergeableCartItemImages:null==p?void 0:p.cartMergeableCartItemImages}),Object.values((null==p?void 0:p.cartItems)||{}).map(function(e){return(0,i.jsx)(ed,{cartItemData:e,handleReloadData:u,className:"br-list-vertical-no-padding-200",handleSelectGiftCard:eZ},e.cartItemId)})]})})]}),children:[(0,i.jsx)(_.w,{isLoading:e8,hasPageContainer:!0}),(0,i.jsx)(E.Z,{children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eD,{percentage:null==eQ?void 0:eQ.digiplusFreshProgressBarPercentage,message:null==eQ?void 0:eQ.digiplusFreshProgressBarMessage,className:"!pb-2"}),!(0,m.x)(null==p?void 0:p.cartItems)&&(0,i.jsx)(O.g,{title:"جمع سبد خرید",price:null==p?void 0:p.cartPayablePrice,noTerms:!0,actionButton:(0,i.jsx)(eN.S,{})})]})})]}),!(0,m.x)(null==ec?void 0:ec.recommendationProducts)&&!(0,m.x)(null==p?void 0:p.cartItems)&&(0,i.jsx)(L.O,{productsTitle:eL,bigDataCarouselName:"cart_also_bought",bigDataTrackerData:eh,products:ew,"data-ab-id":w.n.ALSO_BOUGHT_RECOMMENDATIONS,className:"lg:my-5",productsCROId:a.h.ALSO_BOUGHT_PRODUCTS}),!(0,m.x)(null==ev?void 0:ev.recommendationProducts)&&!(0,m.x)(null==p?void 0:p.cartItems)&&(0,i.jsx)(L.O,{productsTitle:eF,products:eM,bigDataCarouselName:F._r,bigDataTrackerData:eh,"data-ab-id":w.n.NEW_ALSO_BOUGHT_RECOMMENDATIONS,className:"lg:my-5 hidden",productsCROId:a.h.ALSO_BOUGHT_PRODUCTS}),(0,i.jsx)("div",{className:"lg:bg-neutral-000 bg-neutral-100 lg:pt-0 pt-2",children:(0,i.jsx)(ep.m,{bigDataTrackerData:eh,className:"lg:mt-4 mt-0 bg-neutral-000"})}),(0,i.jsx)(S.s,{giftCard:j,reloadCards:eA,isOpen:ee&&!(0,m.x)(j),onClose:function(){et(!1),W({})},apiMethod:eg.r,hasAmountField:!1,onConfirmCROId:a.h.PDP_EGIFT_EDIT_IN_CART_MODAL_CONFIRM}),eO&&(0,i.jsx)(N.Modal,{isOpen:ei,onDismiss:ea,headerTitle:ek,width:480,children:(0,i.jsx)("div",{className:"text-xl text-[#212121] leading-10",children:eO})})]})}var eR=r(69719),ek=r.n(eR);function eA(e){var t,r=e.isActive,n=e.title,a=e.itemCount,s=e.CROId,l=(0,ei.d)("rounded-small text-neutral-000 mr-1 flex items-center justify-center text-body2-strong",(t={},(0,ea.Z)(t,ek()["TabTitle--active"],r),(0,ea.Z)(t,"bg-neutral-400",!r),t),ek().TabTitle);return(0,i.jsxs)("div",{className:"flex items-center select-none","data-cro-id":s,children:[(0,i.jsx)("span",{className:(0,ei.d)({"text-subtitle":!r,"text-subtitle-strong":r}),children:n}),!!a&&(0,i.jsx)("span",{className:l,children:(0,Y.U)(a)})]})}var eS=r(14878),eE=r(73739),eL=r(98723),ew=r(90877),eB=r(57306),eF=r(5185),eM=r(8108),ez=r(43287);function eG(e){var t=e.order,r=(0,g.Z)((0,h.useState)(),2),n=r[0],a=r[1],s=t||{},l=s.isFreshOrder,o=s.orderId,c=s.orderRemainingAmount,d=s.orderCartId,u=s.orderPaymentRemainingTime,m=[void 0,"digikala","offline"].includes(s.orderType),p=(0,er.E)({apiMethod:(0,eS.r)({isFresh:l})}).request;return(0,i.jsxs)("div",{className:"border-complete-t flex items-center py-5 text-neutral-800 text-normal justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"text-body-1 text-neutral-800",children:d}),(0,i.jsx)(ew.g,{className:"mx-4"}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("span",{className:"text-body-1 text-neutral-600 ml-2",children:"قابل پرداخت"}),(0,i.jsx)(eB.t,{iconColor:"black",iconSize:16,price:c,priceTextClassName:"text-subtitle-strong text-neutral-700"})]})]}),(0,i.jsx)(eE.k,{mode:"normal",color:"yellow",icon:"infoOutline",children:"سفارش در صورت عدم پرداخت تا ".concat((0,Y.U)(u||"چند دقیقه")," دیگر لغو خواهد شد.")}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(eL.r,{shouldHandleUrlAndOnClick:!0,onClick:function(){(0,eM.N)({name:"widget_click",body:{version:2,page_type:(0,ez.C)(),widget_name:l?"fresh_profile_order":"digikala_profile_order",clicked_item_name:"جزئیات سفارش",page_info:{order_id:o}}})},to:(0,eh.di)(null==t?void 0:t.orderId,t.isFreshOrder),children:(0,i.jsx)(I.z,{color:"primary",shape:"outlined",size:"medium",children:"جزئیات سفارش"})}),m?(0,i.jsx)(I.z,{to:(0,eh.iJ)({orderId:o}),color:"primary",size:"medium",shape:"filled",className:"mr-3",children:"پرداخت"}):(0,i.jsx)(I.z,{color:"primary",shape:"filled",className:"mr-3",size:"medium",onClick:function(){var e=t.orderId,r=t.paymentMethodId;a(o),p({paymentMethodId:r,id:e,type:eF.Rd.ORDER}).then(function(){a("")})},isLoading:n===o,children:"پرداخت"})]})]},o)}function eU(e){var t=e.className,r=e.orders,n=void 0===r?null:r,a=(0,ei.d)("pt-4 px-6 mb-5 lg:mb-2 hidden lg:block border-complete border-n-100 rounded bg-neutral-000",t);return n?(0,i.jsxs)("div",{className:a,children:[(0,i.jsx)("div",{className:"text-subtitle text-neutral-900 mb-4",children:"شما ".concat((0,Y.U)(n.length)," سفارش در انتظار پرداخت دارید")}),n.map(function(e){return(0,i.jsx)(eG,{order:e})})]}):null}var eV=r(59437),eJ=r(79514),eq=r(31948),eH=(0,p.q)({url:"cart/next/",transformer:function(e){var t,r,i=e.data;if(!i)return{};var n=null==i?void 0:null===(t=i.next_cart)||void 0===t?void 0:null===(r=t.map)||void 0===r?void 0:r.call(t,function(e){return(0,eJ.l)({data:e})});return n?(0,eq.V)(n,"cartItemVariant.variantId"):{}}}),eZ=function(e){var t=e.className,r=(0,ei.d)("p-6 lg:border-complete rounded-medium",t);return(0,i.jsxs)("div",{className:r,children:[(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)(es.E,{src:"/statics/img/png/empty-sfl.png",width:200,height:150,alt:"empty-cart"})}),(0,i.jsx)("p",{className:"text-h4 text-neutral-800 text-center mt-6",children:"لیست خرید بعدی شما خالی است!"}),(0,i.jsx)("p",{className:"text-body-2 text-neutral-600 text-center mt-2 mx-auto",children:"شما می‌توانید محصولاتی که به سبد خرید خود افزوده‌اید و فعلا قصد خرید آن‌ها را ندارید، در لیست خرید بعدی قرار داده و هر زمان مایل بودید آن‌ها را به سبد خرید اضافه کرده و خرید آن‌ها را تکمیل کنید."})]})};function eX(e){var t=e.className,r=e.commodityCount,n=e.isLoading,a=e.handleMoveAllToCart,s=(0,ei.d)("m-4 lg:m-0 p-4 bg-neutral-000 border-complete-200 rounded-medium hidden lg:block",t);return(0,i.jsx)("div",{className:s,children:r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"text-center py-2",children:(0,i.jsx)("span",{className:"text-body2-strong text-neutral-900",children:"".concat((0,Y.U)(r)," کالا ")})}),(0,i.jsxs)(I.z,{className:"w-full",mode:"outlined",color:"primary",size:"large",isLoading:n,onClick:a,CROId:"cart-add-to-cart-from-list",children:[(0,i.jsx)(C.J,{icon:"moveToCart",size:20,color:"primary",className:"ml-3 "}),(0,i.jsx)("span",{className:"text-button-1",children:" انتقال همه به سبد خرید"})]})]})})}function eK(e){var t,r=e.reloadTabs,n=(0,W.v9)(q.p.isLoggedIn),s=(0,l.V)({apiMethod:eH}),o=s.data,c=s.pending,d=s.reload,u=function(){d(),r()},p=(0,M.J)({action:V.yK,successCallback:u}),x=p.request,g=p.pending,v=function(){x({cartItems:o,removeFromNextCart:!0})},h=Object.keys(o||{}).length,f=c||g;return(0,i.jsx)(eu.b,{section:(0,m.x)(o)?!f&&(0,i.jsx)(eZ,{}):(0,i.jsxs)("div",{className:"lg:border-complete-200 rounded-medium overflow-hidden",children:[(0,i.jsx)(P.L,{className:"pt-4 px-5 bg-neutral-000",description:"".concat((0,Y.U)(h||"")," کالا"),title:"لیست خرید بعدی شما",leftNode:(0,i.jsx)("span",{"data-cro-id":a.h.CART_ADD_TO_CART_FROM_LIST_2,children:(0,i.jsx)(eV.e,{mode:"anchor",onClick:v,children:"  انتقال همه به سبد خرید"})})}),null===(t=Object.values(o||{}))||void 0===t?void 0:t.map(function(e){return(0,i.jsx)(ed,{isSaveForLater:!0,cartItemData:e,handleReloadData:u,className:"br-list-vertical-no-padding-200"},e.cartItemId)})]}),aside:(0,m.x)(o)?!n&&(0,i.jsx)(k.n,{className:"mx-10 lg:mx-0",title:"ورود به حساب کاربری",detail:"برای مشاهده محصولاتی که پیش‌تر به سبد خرید خود اضافه کرده‌اید وارد شوید.",rightIcon:"registerationSignIn",rightIconColor:"warning",href:(0,Q.U)({toLoginRegisterRoute:!0})}):(0,i.jsx)(eX,{isLoading:g,commodityCount:h,handleMoveAllToCart:v}),children:(0,i.jsx)(_.w,{isLoading:f,hasPageContainer:!0})})}var eY=(0,c.D)({component:function(){var e=(0,l.V)({apiMethod:x}),t=e.data,r=e.pending,s=e.reload,c=(0,o.pL)();return(0,i.jsxs)(i.Fragment,{children:[!(0,m.x)(null==c?void 0:c.cartPendingOrders)&&(0,i.jsx)(eU,{className:"lg:mt-6",orders:null==c?void 0:c.cartPendingOrders}),(0,i.jsxs)(n.mQ,{initialActiveTabIdx:0,children:[!(0,d.$)()&&!(0,u.J)()&&(0,i.jsxs)(n.td,{className:"border-complete-b-200",children:[(0,i.jsx)(n.OK,{children:function(e){return(0,i.jsx)(eA,{CROId:a.h.CART_MAIN_CART,itemCount:null==c?void 0:c.cartItemsCount,title:"سبد خرید",isActive:e.isActive})}}),(0,i.jsx)(n.OK,{children:function(e){return(0,i.jsx)(eA,{itemCount:t.nextCartCount,title:"خرید بعدی",CROId:a.h.CART_NEXT_PURCHASE,isActive:e.isActive})}})]}),(0,i.jsxs)(n.nP,{className:"lg:pt-3",children:[(0,i.jsx)(n.x4,{children:(0,i.jsx)(eO,{isLoading:r,reloadTabs:s,cart:c})}),(0,i.jsx)(n.x4,{children:(0,i.jsx)(eK,{reloadTabs:s})})]})]})]})},layoutProps:{mobileHasFooter:!1,contentTopPadding:16,chatKey:s.u4.cart.section,hasMobileHeader:!1}})},51244:function(e,t,r){"use strict";r.d(t,{q:function(){return l}});var i,n=r(1324),a=r(64248),s=r(73587),l=(0,n.q)({url:"products/recent-viewed/",transformer:function(e){var t,r,n,l=e.data;return(0,a.Y)({title:null!==(i=null==l?void 0:null===(t=l.recent_viewed_products)||void 0===t?void 0:t.title)&&void 0!==i?i:"",products:null==l?void 0:null===(r=l.recent_viewed_products)||void 0===r?void 0:null===(n=r.products)||void 0===n?void 0:n.map(function(e){return(0,s.r)({data:e})})})},inputTransformer:function(e){var t=e.productIds;return{product_ids:null==t?void 0:t.filter(function(e){return!!e&&!isNaN(e)})}}})},10277:function(e,t,r){"use strict";r.d(t,{C:function(){return i},Z:function(){return n}});var i="OpenSimilarProductsModal";function n(e){if("undefined"!=typeof CustomEvent){var t=new CustomEvent(i,{detail:e});window.dispatchEvent(t)}}},37556:function(e){e.exports={RemovingItemBox__progressBarContainer:"styles_RemovingItemBox__progressBarContainer__9Y2LV",RemovingItemBox__progressBarItem:"styles_RemovingItemBox__progressBarItem__JBowy",fill:"styles_fill__QtTMp"}},69719:function(e){e.exports={TabTitle:"styles_TabTitle__bgsKt","TabTitle--active":"styles_TabTitle--active__rzfBE"}}},function(e){e.O(0,[3209,6057,7792,8793,990,9774,2888,179],function(){return e(e.s=15381)}),_N_E=e.O()}]);
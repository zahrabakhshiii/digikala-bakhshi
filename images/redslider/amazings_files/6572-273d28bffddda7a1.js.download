"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6572],{46572:function(e,t,n){n.d(t,{L:function(){return F}});var r=n(70865),i=n(96670),a=n(2784),o=n(47842),u=n(26297),l=n(66383),s=n(50930),f=n(23945),d=n(41435),c=n(12694),v=n(5759),p=n(29890),Z=n(14529),g=n(50020),m=n(72873),h=n(43202),P=n(49174),O=n(53091),y=n(5632),C={},S={items:C,pages:C,data:{},fetched:!1};function M(e){var t,n,a,l,s,c=e.oldData,v=c.items,m=c.data,h=c.pages,P=e.newPage,O=e.itemsKey,y=(null==P?void 0:null===(s=P.pager)||void 0===s?void 0:s.pagerCurrentPage)||1;return{items:(0,i.Z)((0,r.Z)({},void 0===v?C:v),(0,o.Z)({},y,(null==P?void 0:P[O])||[])),data:(n=(t={data:P,itemsKey:O,oldData:m}).data,a=t.itemsKey,l=t.oldData,!(0,Z.K)(n)||(0,p.k)(n)||(0,g.k)(n)||(0,d.x)(n)?l:(n[a],(0,u.Z)(n,[a].map(f.Z)))),pages:(0,i.Z)((0,r.Z)({},void 0===h?C:h),(0,o.Z)({},y,y)),fetched:!(0,g.k)(P)}}var I=n(70423),x=n(82332),R=n(74740),w=n(35929),K=n(45162),k=n(24606),E=n(10896),D={isOpen:!1,filterKey:null,filterTitle:null,filterItem:null},T={};function F(e){var t,n,F,Q,b,H,A,V,q,N,U,X,B,L,_,j,Y,z,G,W,$,J,ee,et,en,er,ei,ea,eo,eu,el,es,ef,ed,ec,ev,ep,eZ,eg,em,eh,eP,eO,ey,eC,eS,eM,eI,ex,eR,ew,eK,ek,eE,eD,eT,eF,eQ,eb,eH,eA,eV,eq,eN,eU,eX,eB,eL,e_,ej,eY,ez,eG,eW,e$,eJ,e0,e1,e2,e4,e5,e6,e7,e9,e3,e8,te,tt,tn,tr,ti,ta,to,tu,tl,ts,tf,td,tc,tv=e.apiMethod,tp=e.apiData,tZ=e.disabled,tg=e.onSuccess,tm=e.onError,th=e.itemsKey,tP=e.isPagination,tO=e.defaultActiveFilters,ty=e.defaultActiveSort,tC=e.shouldSaveOnChange,tS=e.ssrData,tM=e.shouldScrollOnChange,tI=e.disableQueryParams,tx=e.getSSRMethods,tR=e.notHandledByUseSSR,tw=(F=void 0===(n=(t={defaultActiveFilters:void 0===tO?{}:tO,defaultActiveSort:void 0===ty?null:ty,shouldSaveOnChange:tC,shouldScrollOnChange:tM,disableQueryParams:tI,isPagination:tP}).defaultActiveFilters)?T:n,Q=t.shouldSaveOnChange,H=void 0===(b=t.shouldScrollOnChange)||b,A=t.disableQueryParams,V=function(e){var t,n=e.activeFilters,a=void 0===n?F:n,u=e.shallow,l=e.fragment,s=(0,c.s)((0,i.Z)((0,r.Z)({},a),(t={},(0,o.Z)(t,h.uR,a[h.uR]||ea[h.uR]),(0,o.Z)(t,h.fH,ea[h.fH]),(0,o.Z)(t,h.tn,void 0),t)));ew({newUrl:(0,k.m)((0,E.K)({queries:s,url:window.location.pathname}),l),scroll:H,shallow:u})},q=function(){ev(!1)},N=function(e){var t=e.shallow;q(es),V({activeFilters:es,shallow:t})},U=function(){q()},X=function(){V({activeFilters:(0,o.Z)({},h.uR,eO)}),q()},B=function(){eS(!1)},L=function(){em((0,i.Z)((0,r.Z)({},es),(0,o.Z)({},h.uR,eO))),B()},_=function(){em((0,i.Z)((0,r.Z)({},es),(0,o.Z)({},h.uR,eO))),B()},j=function(){eR(!1)},z=(Y=(0,y.useRouter)()).asPath,G=Y.push,W=Y.replace,$=Y.query,J=Y.pathname,ee=Y.isReady,Y.events,en=(et=(0,l.Z)((0,a.useState)((0,r.Z)({},F)),2))[0],er=et[1],ei=(0,a.useRef)(!1),ea=(0,a.useMemo)(function(){return A?en:(0,K.Q)(z)},[z,en]),eo=(0,a.useMemo)(function(){ea[h.uR],ea[h.fH],ea[h.tn];var e=(0,u.Z)(ea,[h.uR,h.fH,h.tn].map(f.Z));return!(0,d.x)(e)},[ea]),eu=(0,a.useMemo)(function(){return Object.entries($).reduce(function(e,t){var n=(0,l.Z)(t,2),a=n[0],u=n[1];return -1!==J.indexOf(a)?(0,i.Z)((0,r.Z)({},e),(0,o.Z)({},a,u)):(0,r.Z)({},e)},{})},[J,$]),es=(el=(0,l.Z)((0,a.useState)(F),2))[0],ef=el[1],ec=(ed=(0,l.Z)((0,a.useState)(!1),2))[0],ev=ed[1],eZ=(ep=(0,l.Z)((0,a.useState)(D),2))[0],eg=ep[1],em=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;return ef(function(){return(0,R.m)(e)?function(t){return(0,c.s)(e(t))}:(0,c.s)(e)})},eh=(0,a.useMemo)(function(){return!(0,O.X)(ea,es)},[es,ea]),eP=null==es?void 0:es[h.uR],eO=null==ea?void 0:ea[h.uR],eC=(ey=(0,l.Z)((0,a.useState)(!1),2))[0],eS=ey[1],eM=(0,a.useMemo)(function(){return!(0,x.t)(eO,eP)},[eP,eO]),ex=(eI=(0,l.Z)((0,a.useState)(!1),2))[0],eR=eI[1],ew=function(e){var t=e.newUrl,n=e.scroll,i=e.shallow,a=void 0===i||i,o=e.appendQuery;if(A){var u=(0,K.Q)(t);er((0,r.Z)({},void 0!==o&&o?ea:T,u)),n&&I.NY.scrollToTop();return}ei.current?(ei.current=!0,n&&I.NY.scrollToTop(),G(t,void 0,{scroll:!!(null!=n?n:H),shallow:a})):W(t,void 0,{scroll:!!(null!=n?n:H),shallow:a})},eK=function(e){var t,n=e.query;ew({newUrl:(0,E.K)({queries:(t={},(0,o.Z)(t,h.fH,n),(0,o.Z)(t,h.tn,void 0),t),url:window.location.pathname}),scroll:!0})},ek=function(){em((0,c.s)((0,r.Z)({},F||T,ea)))},(0,a.useEffect)(function(){ek()},[z,en]),eE=(0,a.useMemo)(function(){return(0,w.S)(z)},[z]),{filterExtra:eZ,activeFilters:es,filterOnClick:function(e){var t=e.isAccordion,n=e.filterKey,i=e.filterItem,a=e.filterType,u=e.filterTitle,l=e.filterOptionId,f=e.filterOptionMax,c=e.filterOptionMin,v=e.filterOptionValueMin,p=e.filterOptionValueMax,m=e.shouldSendDataToServer,P=e.shallow;if(t){eg(function(e){var t=e.isOpen,r=e.filterKey;return{isOpen:!(t&&(0,O.X)(n,r)),filterTitle:u,filterKey:n,filterItem:i}});return}var y=function(e){var t,n=e.filterKey,i=e.filterType,a=e.activeFilters,u=e.filterOptionId,l=e.filterOptionMin,f=e.filterOptionMax,c=e.filterOptionValueMin,v=e.filterOptionValueMax,p=(0,Z.K)(n),m=p?n.keyId:n,P=null==n?void 0:n.keyCode,O=(null==a?void 0:a[P])||T,y=p?null===(t=a[P])||void 0===t?void 0:t[m]:a[n];if((0,x.t)(h.kQ.CHECKBOX,i)){var C=function(e){var t=e.filterOptionId,n=e.filterItem,r=e.filterKey;if(null==n?void 0:null===(i=n.find)||void 0===i?void 0:i.call(n,function(e){return(0,x.t)(e,t)})){var i,a,u=null==n?void 0:null===(a=n.filter)||void 0===a?void 0:a.call(n,function(e){return!(0,x.t)(e,t)});return(0,o.Z)({},r,(0,d.x)(u)?void 0:u)}return(0,o.Z)({},r,(0,s.Z)(n||[]).concat([t]))}({filterItem:y,filterKey:m,filterOptionId:u});return(0,r.Z)({},a||T,p?(0,o.Z)({},P,(0,r.Z)({},O,C)):C)}if([h.kQ.RADIO,h.kQ.BUTTON].includes(i)){var S,M,I,R=(M=(S={filterItem:y,filterKey:n,filterOptionId:u}).filterKey,I=S.filterOptionId,(0,o.Z)({},M,I));return(0,r.Z)({},a||T,p?(0,o.Z)({},P,(0,r.Z)({},O,R)):R)}if((0,x.t)(h.kQ.SLIDER,i)){var w,K,k,E,D,F,Q,b,H=(k=(w={filterKey:n,filterOptionMax:f,filterOptionMin:l,filterOptionValueMin:c,filterOptionValueMax:v}).filterOptionMin,E=w.filterOptionMax,D=w.filterOptionValueMin,F=w.filterOptionValueMax,Q=w.filterKey,b=(0,x.t)(E,F)&&(0,x.t)(k,D),(0,o.Z)({},Q,b?void 0:(K={},(0,o.Z)(K,h.LS,D),(0,o.Z)(K,h.o$,F),K)));return(0,r.Z)({},a||T,p?(0,o.Z)({},P,(0,r.Z)({},O,H)):H)}if([h.kQ.BOOLEAN,h.kQ.SWITCH].includes(i)){var A,V,q,N,U=(V=(A={filterItem:y,filterKey:n,filterOptionId:u}).filterItem,q=A.filterKey,N=A.filterOptionId,(0,o.Z)({},q,(0,g.k)(V)?N:void 0));return(0,r.Z)({},a||T,p?(0,o.Z)({},P,(0,r.Z)({},O,U)):U)}if((0,x.t)(h.kQ.CATEGORY_LIST,i)){var X,B,L,_=(B=(X={filterKey:n,filterOptionId:u}).filterKey,L=X.filterOptionId,(0,o.Z)({},B,(0,g.k)(L)?void 0:[L]));return(0,r.Z)({},a||T,p?(0,o.Z)({},P,(0,r.Z)({},O,_)):_)}return(0,r.Z)({},a||T)}({filterKey:n,filterType:a,filterOptionId:l,filterOptionMin:c,filterOptionMax:f,filterOptionValueMin:v,filterOptionValueMax:p,activeFilters:es});m||Q?V({activeFilters:y,shallow:P}):em(y)},filterClear:X,filterIsModalOpen:ec,filterOpenModal:function(){ev(!0)},filterCloseModal:q,filterSaveChanges:N,filterCancelChanges:U,filterHasChanged:eh,activeSortId:eP,submittedSortId:eO,sortOnClick:function(e){var t=e.sortOptionId;e.shouldSendDataToServer||Q?(V({activeFilters:(0,i.Z)((0,r.Z)({},es),(0,o.Z)({},h.uR,t))}),B()):em((0,i.Z)((0,r.Z)({},es),(0,o.Z)({},h.uR,t)))},sortIsModalOpen:eC,sortOpenModal:function(){eS(!0)},sortCloseModal:B,sortSaveChanges:L,sortCancelChanges:_,sortHasChanged:eM,allIsModalOpen:ex,allOpenModal:function(){eR(!0)},allCloseModal:j,allSaveChanges:function(){L(),N(),j()},allCancelChanges:function(){_(),U(),j()},allClear:function(){X(),_(),j()},onSearch:eK,onPageChange:function(e){ew({newUrl:(0,E.K)({queries:(0,o.Z)({},h.tn,e),url:window.location.href}),scroll:H,appendQuery:!0})},searchOnClearParam:function(){eK(T)},searchParam:ea[h.fH],queryParams:ea,reinitializeQueryParams:function(){ek()},urlParams:eu,isReady:ee,hasFilter:eo,fragment:eE,changeFragment:function(e){V({fragment:e,activeFilters:es})}}),tK=(0,a.useMemo)(function(){var e;return tx?null==tx?void 0:null===(e=tx({query:tw.urlParams||{}}))||void 0===e?void 0:e[0]:{apiMethod:tv,apiData:tp}},[tw.isReady,tw.urlParams,tp]),tk=(eT=(eD=(0,i.Z)((0,r.Z)({},tK),{queryParams:tw.queryParams,disabled:tZ,notHandledByUseSSR:tR||!!tv,onSuccess:tg,onError:tm,onPageChange:tw.onPageChange,itemsKey:th,isPagination:tP,ssrData:(0,p.k)(tS)?null==tS?void 0:tS[0]:tS})).apiMethod,eF=eD.apiData,eQ=eD.queryParams,eb=eD.disabled,eH=eD.onSuccess,eA=eD.onError,eq=void 0===(eV=eD.itemsKey)?"products":eV,eN=eD.isPagination,eU=eD.ssrData,eB=void 0!==(eX=eD.notHandledByUseSSR)&&eX,eL=eD.onPageChange,e_=function(e){var t=e.newPage,n=e.reset,a=M({oldData:(0,i.Z)((0,r.Z)({},e0),{items:ti||n?C:e0.items}),newPage:t,itemsKey:eq});return e1(a),a},ej=(0,y.useRouter)(),eY=(0,a.useRef)(null),ez=(0,a.useRef)(!1),eW=(eG=(0,l.Z)((0,a.useState)(eQ.page||1),2))[0],e$=eG[1],e0=(eJ=(0,l.Z)((0,a.useState)(M({oldData:S,newPage:eU,itemsKey:eq})),2))[0],e1=eJ[1],(0,a.useEffect)(function(){(null==eQ?void 0:eQ.page)&&eW!==eQ.page&&e$(null==eQ?void 0:eQ.page)},[null==eQ?void 0:eQ.page]),e4=(e2=(0,a.useMemo)(function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pager;if(!((0,g.k)(t)||1>+t.pagerCurrentPage||+t.pagerCurrentPage>=+t.pagerTotalPages))return t.pagerCurrentPage+1}(e0.data),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pager;if(!((0,g.k)(t)||2>+t.pagerCurrentPage||+t.pagerCurrentPage>=+t.pagerTotalPages))return t.pagerCurrentPage-1}(e0.data);return{nextPageParam:e,hasNextPage:!!e,previousPageParam:t,hasPreviousPage:!!t}},[e0.data])).nextPageParam,e5=e2.hasNextPage,e6=e2.previousPageParam,e7=e2.hasPreviousPage,e9=(0,a.useMemo)(function(){return(0,r.Z)({},(0,c.s)((0,r.Z)({},eF||{},eQ||{})))},[eF,eQ]),e3=(0,a.useRef)(e9),e8=(0,a.useMemo)(function(){return(0,i.Z)((0,r.Z)({},e9),(0,o.Z)({},h.tn,eQ.page||eW))},[e9,eW]),te=(0,a.useRef)(!1),tt=(0,a.useRef)(eB),tn=(0,a.useRef)(e9),tr=void 0!==eb&&eb||!eB&&(ez.current||!tt.current||(0,O.X)(e9,tn.current)&&1===eW),ti=void 0!==eN&&eN||1===eW||te.current||eQ.page,ta=function(e){if(e&&(0,d.x)(e)){e1(function(e){return(0,i.Z)((0,r.Z)({},e),{fetched:!0,items:ti?[]:e.items})});return}var t=e_({newPage:e});e3.current=e9,te.current=!1,ez.current=!1,null==eH||eH(e,t)},tu=(to=(0,m.V)({apiMethod:eT,apiData:e8,onSuccess:ta,onError:eA,disabled:tr})).pending,tl=to.hasError,ts=to.reload,(0,a.useEffect)(function(){(0,g.k)(eU)||eB||tt.current||(ta(eU),tt.current=!0,tn.current=(0,r.Z)({},e9))},[eU]),(0,a.useEffect)(function(){var e=function(e){var t=new URL(e,window.location.href).pathname;ez.current=!(0,O.X)(eY.current,t),eY.current=t};return ej.events.on("routeChangeStart",e),function(){ej.events.off("routeChangeStart",e)}},[]),(0,a.useEffect)(function(){td({page:(null==eQ?void 0:eQ.page)||1})},[ej.asPath]),(0,a.useEffect)(function(){tr&&!eB&&(tt.current||(0,O.X)(tn.current,e9))?ta(eU):te.current=!(0,O.X)(e9,e3.current)},[e9]),tf=function(e){(0,v.h)(e)&&e$(e)},td=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.page,n=void 0===t?1:t,a=e.updatePageParam;e1((0,i.Z)((0,r.Z)({},e0),{fetched:!1,items:[]})),void 0!==a&&a?null==eL||eL(n):eW===n?ts():tf(n)},tc=(tu||!e0.fetched||te.current)&&!tl,(0,i.Z)((0,r.Z)({},e0),{items:ti&&tc?C:e0.items,hasError:tl,pending:tc,hasPreviousPage:e7,hasNextPage:e5,fetchNextPage:function(){e5&&e$(e4)},fetchPreviousPage:function(){e7&&e$(e6)},fetchPage:tf,addItem:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];e1(function(e){var n=(0,r.Z)({},(null==e?void 0:e.items)||{});return t.forEach(function(e){var t=e.page,r=e.index,i=e.item;n[t]=(0,P.Q)({array:n[t],index:r,item:i})}),(0,i.Z)((0,r.Z)({},e),{items:n})})},removeItem:function(e){var t=e.itemIndex;e1(function(e){var n,a,u,f,d,c=Object.entries(null==e?void 0:e.items).reduce(function(e,n){var r=(0,l.Z)(n,2),i=r[0],a=r[1];return e.isFound?e:t<a.length+e.count?{page:i,index:t-e.count,isFound:!0}:{count:e.count+a.length}},{count:0}),v=c.page,Z=c.index,g=(0,i.Z)((0,r.Z)({},null==e?void 0:e.items),(0,o.Z)({},v,(0,s.Z)((u=void 0===(a=(n={array:null==e?void 0:null===(d=e.items)||void 0===d?void 0:d[v],index:Z}).array)?[]:a,f=n.index,(0,p.k)(u)?(0,s.Z)(u.filter(function(e,t){return f!==t})):[]))));return(0,i.Z)((0,r.Z)({},e),{items:g})})},updateItem:function(e){var t=e.itemIndex,n=e.newData;e1(function(e){var a,u,f,d,c,v,Z,g,m=Object.entries(null==e?void 0:e.items).reduce(function(e,n){var r=(0,l.Z)(n,2),i=r[0],a=r[1];return e.isFound?e:t<a.length+e.count?{page:i,index:t-e.count,isFound:!0}:{count:e.count+a.length}},{count:0}),h=m.page,P=m.index,O=(0,i.Z)((0,r.Z)({},null==e?void 0:e.items),(0,o.Z)({},h,(0,s.Z)((f=void 0===(u=(a={array:null==e?void 0:null===(v=e.items)||void 0===v?void 0:v[h],index:P,item:(0,r.Z)({},(null==e?void 0:null===(Z=e.items)||void 0===Z?void 0:null===(g=Z[h])||void 0===g?void 0:g[P])||{},n)}).array)?[]:u,d=a.index,c=a.item,(0,p.k)(f)?(0,s.Z)(f.map(function(e,t){return d===t?c:e})):[]))));return(0,i.Z)((0,r.Z)({},e),{items:O})})},resetItems:td,page:eW,apiData:e8,isAPIDataChangedRef:te}));return(0,r.Z)({},tk,tw)}}}]);